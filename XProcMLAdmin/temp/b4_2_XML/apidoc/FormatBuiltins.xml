<apidoc:module name="FormatBuiltins" category="FormatBuiltins" bucket="W3C-Standard Functions" lib="fn" xmlns:apidoc="http://marklogic.com/xdmp/apidoc"><apidoc:summary access="public" category="FormatBuiltins">
The format-date, format-time, format-dateTime and format-number built-in functions are XSLT functions that operate on date-, time-, dateTime-, number-related values.
They are defined in
<a href="http://www.w3.org/TR/xpath-functions/" target="_blank" xmlns="http://www.w3.org/1999/xhtml">XPATH 2.0
Functions and Operators</a>.
</apidoc:summary><apidoc:function name="format-dateTime" type="builtin" lib="fn" category="DurationDateTimeBuiltins" bucket="W3C-Standard Functions" hidden="false">
    <apidoc:summary>
   Returns a formatted dateTime value based on the picture argument.   This 
   is an XSLT function, and it is available in both XSLT and in XQuery 1.0-ml.
 </apidoc:summary>
    <apidoc:params>
      <apidoc:param name="value" type="dateTime" optional="false">
     The given dateTime <code xmlns="http://www.w3.org/1999/xhtml">$value</code> that needs to be formatted.
   </apidoc:param>
      <apidoc:param name="picture" type="xs:string" optional="false">
     The desired string representation of the given dateTime 
     <code xmlns="http://www.w3.org/1999/xhtml">$value</code>.  
          The picture string is a sequence of characters, in which the
     characters represent variables such as, decimal-separator-sign,
     grouping-sign, zero-digit-sign, digit-sign, pattern-separator,
     percent sign and per-mille-sign.  For details on the picture string, see
     <a href="http://www.w3.org/TR/xslt20/#date-picture-string" target="_blank" xmlns="http://www.w3.org/1999/xhtml">http://www.w3.org/TR/xslt20/#date-picture-string</a>.
   </apidoc:param>
      <apidoc:param name="language" type="xs:string" optional="true">
     The desired language for string representation of the dateTime 
     <code xmlns="http://www.w3.org/1999/xhtml">$value</code>.
   </apidoc:param>
      <apidoc:param name="calendar" type="xs:string" optional="true">
     The only calendar supported at this point is "Gregorian" or "AD".
   </apidoc:param>
      <apidoc:param name="country" type="xs:string" optional="true">
     $country is used the specification to take into account country specific
     string representation.
   </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:usage>
    <p xmlns="http://www.w3.org/1999/xhtml">Dates before October 15, 1582 (the start of the Gregorian calendar) will
    not return the correct dateTime value.</p>
    <p xmlns="http://www.w3.org/1999/xhtml">If the specified picture string includes a fractional second width that 
    is three or more decimal places, then the fractional seconds are truncated
    (not rounded) on the third and greater width.</p>
 </apidoc:usage>
    <apidoc:example><pre xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">
   fn:format-dateTime(fn:current-dateTime(),
                 "[Y01]/[M01]/[D01] [H01]:[m01]:[s01]:[f01]") 
  
   fn:format-dateTime(fn:current-dateTime(),
                 "[Y01]/[M01]/[D01] [H01]:[m01]:[s01]:[f01]","en","AD","US")
 </pre>
 </apidoc:example>
  </apidoc:function><apidoc:function name="format-date" type="builtin" lib="fn" category="DurationDateTimeBuiltins" bucket="W3C-Standard Functions" hidden="false">
    <apidoc:summary>
   Returns a formatted date value based on the picture argument.  This 
   is an XSLT function, and it is available in both XSLT and in XQuery 1.0-ml.
 </apidoc:summary>
    <apidoc:params>
      <apidoc:param name="value" type="dateTime" optional="false">
     The given date <code xmlns="http://www.w3.org/1999/xhtml">$value</code> that needs to be formatted.
   </apidoc:param>
      <apidoc:param name="picture" type="xs:string" optional="false">
     The desired string representation of the given date <code xmlns="http://www.w3.org/1999/xhtml">$value</code>.
     The picture string is a sequence of characters, in which the
     characters represent variables such as, decimal-separator-sign,
     grouping-sign, zero-digit-sign, digit-sign, pattern-separator,
     percent sign and per-mille-sign.  For details on the picture string, see
     <a href="http://www.w3.org/TR/xslt20/#date-picture-string" target="_blank" xmlns="http://www.w3.org/1999/xhtml">http://www.w3.org/TR/xslt20/#date-picture-string</a>.
   </apidoc:param>
      <apidoc:param name="language" type="xs:string" optional="true">
     The desired language for string representation of the date 
     <code xmlns="http://www.w3.org/1999/xhtml">$value</code>.
   </apidoc:param>
      <apidoc:param name="calendar" type="xs:string" optional="true">
     The only calendar supported at this point is "Gregorian" or "AD".
   </apidoc:param>
      <apidoc:param name="country" type="xs:string" optional="true">
     $country is used the specification to take into account country specific
     string representation.
   </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:usage>
    <p xmlns="http://www.w3.org/1999/xhtml">Dates before October 15, 1582 (the start of the Gregorian calendar) will
    not return the correct date value.</p>
 </apidoc:usage>
    <apidoc:example><pre xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">
   fn:format-date(fn:current-date(),
                 "[Y01]/[M01]/[D01]") 
  
   fn:format-date(fn:current-date(),
                 "[Y01]/[M01]/[D01]","en","AD","US")
 </pre>
 </apidoc:example>
  </apidoc:function><apidoc:function name="format-time" type="builtin" lib="fn" category="DurationDateTimeBuiltins" bucket="W3C-Standard Functions" hidden="false">
    <apidoc:summary>
   Returns a formatted time value based on the picture argument.  This 
   is an XSLT function, and it is available in both XSLT and in XQuery 1.0-ml.
 </apidoc:summary>
    <apidoc:params>
      <apidoc:param name="value" type="time" optional="false">
     The given time <code xmlns="http://www.w3.org/1999/xhtml">$value</code> that needs to be formatted.
   </apidoc:param>
      <apidoc:param name="picture" type="xs:string" optional="false">
     The desired string representation of the given time <code xmlns="http://www.w3.org/1999/xhtml">$value</code>.
          The picture string is a sequence of characters, in which the
     characters represent variables such as, decimal-separator-sign,
     grouping-sign, zero-digit-sign, digit-sign, pattern-separator,
     percent sign and per-mille-sign.  For details on the picture string, see
     <a href="http://www.w3.org/TR/xslt20/#date-picture-string" target="_blank" xmlns="http://www.w3.org/1999/xhtml">http://www.w3.org/TR/xslt20/#date-picture-string</a>.
   </apidoc:param>
      <apidoc:param name="language" type="xs:string" optional="true">
     The desired language for string representation of the time 
     <code xmlns="http://www.w3.org/1999/xhtml">$value</code>.
   </apidoc:param>
      <apidoc:param name="calendar" type="xs:string" optional="true">
     The only calendar supported at this point is "Gregorian" or "AD".
   </apidoc:param>
      <apidoc:param name="country" type="xs:string" optional="true">
     $country is used the specification to take into account country specific
     string representation.
   </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:example><pre xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">
   fn:format-time(fn:current-time(),
                 "[H01]:[m01]:[s01]:[f01]") 
  
   fn:format-time(fn:current-time(),
                 "[H01]:[m01]:[s01]:[f01]","en","AD","US")
 </pre>
 </apidoc:example>
  </apidoc:function><apidoc:function name="parse-dateTime" type="builtin" lib="xdmp" category="Extension" subcategory="Extension" hidden="false" bucket="MarkLogic Built-In Functions">
    <apidoc:summary>
   Parses a string containing date, time or dateTime using the supplied
   picture argument and returns a dateTime value.  While this function
   is closely related to other XSLT functions, it is available in XSLT 
   as well as in all XQuery dialects.
 </apidoc:summary>
    <apidoc:params>
      <apidoc:param name="picture" type="xs:string" optional="false">
     The desired string representation of the given <code xmlns="http://www.w3.org/1999/xhtml">$value</code>.
     The picture string is a sequence of characters, in which the
     characters represent variables such as, decimal-separator-sign,
     grouping-sign, zero-digit-sign, digit-sign, pattern-separator,
     percent sign and per-mille-sign.  For details on the picture string, see
     <a href="http://www.w3.org/TR/xslt20/#date-picture-string" target="_blank" xmlns="http://www.w3.org/1999/xhtml">http://www.w3.org/TR/xslt20/#date-picture-string</a>.
     This follows the specification of 
     <a href="http://www.w3.org/TR/xslt20/#processing-picture-string" target="_blank" xmlns="http://www.w3.org/1999/xhtml">picture string</a> in the W3C XSLT 2.0
     specification for the <code xmlns="http://www.w3.org/1999/xhtml">fn:format-dateTime</code> function.
     <pre xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">

   Symbol         Description
  -----------------------------------
     'Y'        year(absolute value)
     'M'        month in year
     'D'        day in month
     'd'        day in year
     'F'        day of week
     'W'        week in year
     'w'        week in month
     'H'        hour in day
     'h'        hour in half-day
     'P'        am/pm marker
     'm'        minute in hour
     's'        second in minute
     'f'        fractional seconds
     'Z'        timezone as a time offset from UTC
 	        for example PST 
     'z'        timezone as an offset using GMT,
 	        for example GMT+1
</pre>
   </apidoc:param>
      <apidoc:param name="value" type="xs:string" optional="false">
     The given string <code xmlns="http://www.w3.org/1999/xhtml">$value</code> representing the dateTime value
     that needs to be formatted.
   </apidoc:param>
      <apidoc:param name="language" type="xs:string" optional="true">
     The language used in string representation of the date, time or
     dateTime value.
   </apidoc:param>
      <apidoc:param name="calendar" type="xs:string" optional="true">
     This argument is reserved for future use. The only calendar supported 
     at this point is "Gregorian" or "AD".
   </apidoc:param>
      <apidoc:param name="country" type="xs:string" optional="true">
     $country is used to take into account if there any country specific
     interpretation of the string while converting it into dateTime value.
   </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:dateTime</apidoc:return>
    <apidoc:usage>
    Dates before October 15, 1582 (the start of the Gregorian calendar) will
    not return the correct dateTime value.
 </apidoc:usage>
    <apidoc:example><pre xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">
   xdmp:parse-dateTime("[Y0001]-[M01]-[D01]T[h01]:[m01]:[s01].[f1][Z]","2010-01-06T17:13:50.873594-08:00")
 </pre>
 </apidoc:example>
  </apidoc:function><apidoc:function name="parse-yymmdd" type="builtin" lib="xdmp" category="Extension" subcategory="Extension" hidden="false" bucket="MarkLogic Built-In Functions">
    <apidoc:summary>
   Parses a string containing date, time or dateTime using the supplied
   picture argument and returns a dateTime value.    While this function
   is closely related to other XSLT functions, it is available in XSLT 
   as well as in all XQuery dialects.
 </apidoc:summary>
    <apidoc:params>
      <apidoc:param name="picture" type="xs:string" optional="false">
     The desired string representation of the given <code xmlns="http://www.w3.org/1999/xhtml">$value</code>.
     This follows the specification of picture string which is 
     compatible to the format specification in icu. See "http://icu-project.org/apiref/classSimpleDateFormat.html" for more details.

     Here is the summary of the formatting symbols:
     <pre xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">

     Symbol     Description
  ----------------------------
     "y"       year(absolute value)
     "M"       month in year
     "d"       day in month
     "D"       day in year
     "E"       day of week
     "w"       week in year
     "W"       week in month
     "H"       hour in day
     "K"       hour in half-day
     "a"       am/pm marker
     "s"       second in minute
     "S"       fractional seconds
     "Z"       timezone as a time offset from UTC
 	       for example PST 
     "ZZZZ"    timezone as an offset using GMT,
 	       for example GMT+1
 
	     </pre>  
   </apidoc:param>
      <apidoc:param name="value" type="xs:string" optional="false">
     The given string <code xmlns="http://www.w3.org/1999/xhtml">$value</code> that needs to be formatted.
   </apidoc:param>
      <apidoc:param name="language" type="xs:string" optional="true">
     The language used in string representation of the date, time or
     dateTime value.
   </apidoc:param>
      <apidoc:param name="calendar" type="xs:string" optional="true">
     This argument is reserved for future use. The only calendar supported 
     at this point is "Gregorian" or "AD".
   </apidoc:param>
      <apidoc:param name="country" type="xs:string" optional="true">
     $country is used to take into account if there any country specific
     interpretation of the string while converting it into dateTime value.
   </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:dateTime</apidoc:return>
    <apidoc:usage>
    Dates before October 15, 1582 (the start of the Gregorian calendar) will
    not return the correct dateTime value.
 </apidoc:usage>
    <apidoc:example><pre xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">
   xdmp:parse-yymmdd("yyyy-MM-ddThh:mm:ss.Sz","2010-01-06T17:13:50.873594-8.00")
 </pre>
 </apidoc:example>
  </apidoc:function><apidoc:function name="format-number" type="builtin" lib="fn" category="XSLTBuiltins" bucket="W3C-Standard Functions" hidden="false">
    <apidoc:summary>
   Returns a formatted string representation of value argument based
   on the supplied picture. An optional decimal format name may also
   be supplied for interpretation of the picture string.  This 
   is an XSLT function, and it is available in both XSLT and in XQuery 1.0-ml.
 </apidoc:summary>
    <apidoc:params>
      <apidoc:param name="value" type="dateTime" optional="false">
     The given number <code xmlns="http://www.w3.org/1999/xhtml">$value</code> that needs to be formatted.
   </apidoc:param>
      <apidoc:param name="picture" type="xs:string" optional="false">
     The desired string representation of the given number <code xmlns="http://www.w3.org/1999/xhtml">$value</code>.
     The picture string is a sequence of characters, in which the
     characters represent variables such as, decimal-separator-sign,
     grouping-sign, zero-digit-sign, digit-sign, pattern-separator,
     percent sign and per-mille-sign.  For details on the picture string, see
     <a href="http://www.w3.org/TR/xslt20/#date-picture-string" target="_blank" xmlns="http://www.w3.org/1999/xhtml">http://www.w3.org/TR/xslt20/#date-picture-string</a>.
   </apidoc:param>
      <apidoc:param name="decimal-format-name" type="xs:string" optional="true">
     $decimal-format-name represents a named xsl:decimal-format.
     It is used to assign values to the variables mentioned above
     based on the picture string.
   </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:example><pre xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">
   fn:format-number(xs:integer("1000000"),"#,##0.00")
   fn:format-number(xs:float("1234.5"), "#,##0.00", "testformat")
 </pre>
 </apidoc:example>
  </apidoc:function><apidoc:function name="format-number" type="builtin" lib="xdmp" category="Extension" subcategory="XSLT" hidden="false" bucket="MarkLogic Built-In Functions">
    <apidoc:summary>
   Returns a formatted number value based on the picture argument.
   The difference between this function and the W3C standards
   <code xmlns="http://www.w3.org/1999/xhtml">fn:format-number</code> function is that this function immitates
   the XSLT <code xmlns="http://www.w3.org/1999/xhtml">xsl:number</code> instruction, which has richer 
   formatting options than the <code xmlns="http://www.w3.org/1999/xhtml">fn:format-number</code> function. 
   This function can be used for spelled-out and ordinal numbering
   in many languages.  This function is  
   available in XSLT as well as in all dialects of XQuery. 
 </apidoc:summary>
    <apidoc:params>
      <apidoc:param name="value" type="decimal, float or double" optional="false">
     The given numeric <code xmlns="http://www.w3.org/1999/xhtml">$value</code> that needs to be formatted.
   </apidoc:param>
      <apidoc:param name="picture" type="xs:string" optional="false">
     The desired string representation of the given numeric <code xmlns="http://www.w3.org/1999/xhtml">$value</code>.
     The picture string is a sequence of characters, in which the
     characters represent variables such as, decimal-separator-sign,
     grouping-sign, zero-digit-sign, digit-sign, pattern-separator,
     percent sign and per-mille-sign.  For details on the picture string, see
     <a href="http://www.w3.org/TR/xslt20/#date-picture-string" target="_blank" xmlns="http://www.w3.org/1999/xhtml">http://www.w3.org/TR/xslt20/#date-picture-string</a>.
     Unlike fn:format-number(), here the picture sting allows 
     spelled-out (uppercase, lowercase and Capitalcase) formatting.
   </apidoc:param>
      <apidoc:param name="language" type="xs:string" optional="false">
     The desired language for string representation of the numeric 
     <code xmlns="http://www.w3.org/1999/xhtml">$value</code>.
     An empty sequence must be passed in even if a user doesn't want to
     specifiy this argument.
   </apidoc:param>
      <apidoc:param name="letter-value" type="xs:string" optional="false">
     Same as letter-value attribute in xsl:number. This argument is
     ignored during formatting as of now. It may be used in future.
     An empty sequence must be passed in even if a user doesn't want to
     specifiy this argument.
   </apidoc:param>
      <apidoc:param name="ordchar" type="xs:string" optional="false">
     If $ordchar is "yes" then ordinal numbering is attempted. If this
     is any other string, including an empty string, then then cardinal 
     numbering is generated.
     An empty sequence must be passed in even if a user doesn't want to
     specifiy this argument.
   </apidoc:param>
      <apidoc:param name="zero-padding" type="xs:string" optional="false">
     Value of $zero-padding is used to pad integer part of a number on
     the left and fractional part on the right, if needed.
     An empty sequence must be passed in even if a user doesn't want to
     specifiy this argument.
   </apidoc:param>
      <apidoc:param name="grouping-separator" type="xs:string" optional="false">
     Value of $grouping-separator is a character, used to groups of digits,     especially useful in making long sequence of digits more readable.
     For example, 10,000,000- here "," is used as a separator after
     each group of three digits.
     An empty sequence must be passed in even if a user doesn't want to
     specify this argument.
   </apidoc:param>
      <apidoc:param name="grouping-size" type="xs:string" optional="false">
     Represents size of the group, i.e. the number of digits before after
     which grouping separator is inserted.
     An empty sequence must be passed in even if a user doesn't want to
     specifiy this argument.
   </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:usage>
   <p xmlns="http://www.w3.org/1999/xhtml">Most, but not all formatting combinations work. The following table 
   shows formatting options by language, and lists what is supported and 
   what is not.</p>
   <table border="1" xmlns="http://www.w3.org/1999/xhtml">
   <tr>
	  <th rowspan="1" colspan="1">Language</th>
	  <th rowspan="1" colspan="1">Numeric Cardinals</th>
	  <th rowspan="1" colspan="1">Numeric Ordinals</th>
	  <th rowspan="1" colspan="1">Spelled Out Cardinals</th>
	  <th rowspan="1" colspan="1">Spelled Out Ordinals</th>
	</tr>
       <tr>
	  <td rowspan="1" colspan="1">en</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	</tr>
       <tr>
	  <td rowspan="1" colspan="1">fr</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">No</td>
	</tr>
       <tr>
	  <td rowspan="1" colspan="1">it</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">No</td>
	</tr>
       <tr>
	  <td rowspan="1" colspan="1">de</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">No</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	</tr>
       <tr>
	  <td rowspan="1" colspan="1">ru</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">No</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">No</td>
	</tr>
       <tr>
	  <td rowspan="1" colspan="1">es</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">No</td>
	</tr>
       <tr>
	  <td rowspan="1" colspan="1">ar</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">No</td>
	</tr>
       <tr>
	  <td rowspan="1" colspan="1">zh</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	</tr>
       <tr>
	  <td rowspan="1" colspan="1">ko</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	</tr>
       <tr>
	  <td rowspan="1" colspan="1">fa</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">No</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">No</td>
	</tr>
       <tr>
	  <td rowspan="1" colspan="1">nl</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	</tr>
       <tr>
	  <td rowspan="1" colspan="1">ja</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	</tr>
       <tr>
	  <td rowspan="1" colspan="1">pt</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">Yes</td>
	  <td rowspan="1" colspan="1">No</td>
	</tr>


   </table>
 </apidoc:usage>
    <apidoc:example><pre xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">
    xdmp:format-number(29,"01","en","",(),'0',",",3),
    xdmp:format-number(09,"W","en","",(),'"',",",3),
    xdmp:format-number((5),"w","es",(),(),"0",",",3) 
 </pre>
 </apidoc:example>
  </apidoc:function></apidoc:module>