<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="startstop.css" type="text/css" charset="UTF-8"?>
<XML>
<TITLE> </TITLE><Heading-1>
<A ID="pgfId-1038002"></A>
<A ID="95262"></A>
Starting and Stopping MarkLogic Server</Heading-1>
<pagenum>
<A ID="pgfId-1042234"></A>
24</pagenum>
<Body>
<A ID="pgfId-1038003"></A>
Use the following procedures to start and stop MarkLogic Server:</Body>
<Body-bullet>
<A ID="pgfId-1038007"></A>
<A href="startstop.xml#id(95335)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Starting the Server</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1038011"></A>
<A href="startstop.xml#id(72388)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Stopping the Server</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1038015"></A>
<A href="startstop.xml#id(66455)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Restarting the Server</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1050236"></A>
<A href="startstop.xml#id(61561)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Example XQuery Scripts</Hyperlink>
</A></Body-bullet>
<Heading-2>
<A ID="pgfId-1038022"></A>
<A ID="95335"></A>
Starting the Server</Heading-2>
<Body>
<A ID="pgfId-1038023"></A>
To start MarkLogic Server, use the appropriate system command for your platform:</Body>
<TableAnchor>
<A ID="pgfId-1038041"></A>
</TableAnchor>
<TABLE>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1038026"></A>
Platform</CellHeading>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1038028"></A>
Command</CellHeading>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038030"></A>
Microsoft Windows</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038032"></A>
Select Start &gt; Programs &gt; MarkLogic Server &gt; Start MarkLogic Server</CellBody>
<Note>
<A ID="pgfId-1046590"></A>
When you start MarkLogic Server from the Start menu, the Windows service configuration for MarkLogic Server is set to start automatically. Also, if you are using Windows Vista, to start the service you must right-click the Start MarkLogic Server link in the Start menu and choose Run as Administrator, then choose to allow the action.</Note>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038034"></A>
Red Hat Linux</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CodeLeft>
<A ID="pgfId-1038036"></A>
/etc/init.d/MarkLogic start</CodeLeft>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038038"></A>
Sun Solaris</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CodeLeft>
<A ID="pgfId-1038040"></A>
/etc/init.d/MarkLogic start</CodeLeft>
</CELL>
</ROW>
</TABLE>
<Heading-2>
<A ID="pgfId-1038043"></A>
<A ID="72388"></A>
Stopping the Server</Heading-2>
<Body>
<A ID="pgfId-1038044"></A>
There are two ways to perform a clean shutdown of MarkLogic Server:</Body>
<Body-bullet>
<A ID="pgfId-1045932"></A>
<A href="startstop.xml#id(84547)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Using System Command to Stop MarkLogic Server</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1045940"></A>
<A href="startstop.xml#id(18608)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Using the Admin Interface to Stop MarkLogic Server</Hyperlink>
</A></Body-bullet>
<Heading-3>
<A ID="pgfId-1045877"></A>
<A ID="84547"></A>
Using System Command to Stop MarkLogic Server</Heading-3>
<Body>
<A ID="pgfId-1045904"></A>
You can stop MarkLogic Server with the appropriate system command for your platform:</Body>
<TableAnchor>
<A ID="pgfId-1045901"></A>
</TableAnchor>
<TABLE>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1045880"></A>
Platform</CellHeading>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1045882"></A>
Command</CellHeading>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1045884"></A>
Microsoft Windows</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1045891"></A>
Select Start &gt; Programs &gt; MarkLogic Server &gt; Stop MarkLogic Server</CellBody>
<Note>
<A ID="pgfId-1046642"></A>
If you are using Windows Vista, to stop the service you must right-click the Stop MarkLogic Server link in the Start menu and choose Run as Administrator, then choose to allow the action.</Note>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1045894"></A>
Red Hat Linux</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CodeLeft>
<A ID="pgfId-1045896"></A>
/etc/init.d/MarkLogic stop</CodeLeft>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1045898"></A>
Sun Solaris</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CodeLeft>
<A ID="pgfId-1045900"></A>
/etc/init.d/MarkLogic stop</CodeLeft>
</CELL>
</ROW>
</TABLE>
<Heading-3>
<A ID="pgfId-1045920"></A>
<A ID="18608"></A>
Using the Admin Interface to Stop MarkLogic Server</Heading-3>
<Body>
<A ID="pgfId-1038045"></A>
To stop the server from the Admin Interface, complete the following procedure:</Body>
<Number1>
<A ID="pgfId-1038046"></A>
Click the Hosts icon on the left tree menu.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1038047"></A>
Click on the name of the host you want to shut down.</Number>
<Number>
<A ID="pgfId-1038048"></A>
Click the Status tab on the top right.</Number>
<Number>
<A ID="pgfId-1038049"></A>
Click Shutdown.</Number>
<Number>
<A ID="pgfId-1038050"></A>
A confirmation message displays while shutting down. Click OK to shut down the server.</Number>
</NumberList>
<Note>
<A ID="pgfId-1045840"></A>
MarkLogic Server must be running in order for you to use the Admin Interface. Once you have stopped the server, you will no longer be able to access the Admin Interface until you start MarkLogic Server again; to restart the server, run the system command for your platform as described in <A href="startstop.xml#id(95335)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Starting the Server' on page&#160;22</A>.</Note>
<Heading-2>
<A ID="pgfId-1038071"></A>
<A ID="66455"></A>
Restarting the Server</Heading-2>
<Body>
<A ID="pgfId-1038072"></A>
To restart the server from the Admin Interface, complete the following procedure:</Body>
<Number1>
<A ID="pgfId-1038073"></A>
Click the Hosts icon on the left tree menu.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1038074"></A>
Click the Status tab on the top right.</Number>
<Number>
<A ID="pgfId-1038075"></A>
Click Restart.</Number>
<Number>
<A ID="pgfId-1038076"></A>
A confirmation message displays while restarting. Click OK to restart MarkLogic Server.</Number>
</NumberList>
<EndList-root>
<A ID="pgfId-1045966"></A>
You may also manually stop and start the server as described above.</EndList-root>
<Note>
<A ID="pgfId-1045969"></A>
The restart operation normally completes within a few seconds. It is possible, however, for it to take longer under some conditions (for example, if the Security database needs to run recovery or if the connectivity between hosts in a cluster is slow). If it takes longer than a few seconds for MarkLogic Server to restart, than the Admin Interface might return a <code>
503: Service Unavailable</code>
 message. If you encounter this situation, wait several seconds and then reload the Admin Interface.</Note>
<Heading-2>
<A ID="pgfId-1050065"></A>
<A ID="61561"></A>
Example XQuery Scripts</Heading-2>
<Body>
<A ID="pgfId-1050066"></A>
This section provides the following XQuery scripts:</Body>
<Body-bullet>
<A ID="pgfId-1050070"></A>
<A href="startstop.xml#id(78999)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Script that Restarts MarkLogic Server</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1050074"></A>
<A href="startstop.xml#id(37071)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Script that Stops MarkLogic Server</Hyperlink>
</A></Body-bullet>
<Heading-3>
<A ID="pgfId-1050085"></A>
<A ID="78999"></A>
Script that Restarts MarkLogic Server</Heading-3>
<Body>
<A ID="pgfId-1050086"></A>
The following script restarts MarkLogic Server:</Body>
<Code>
<A ID="pgfId-1050119"></A>
xquery version &quot;1.0-ml&quot;;
xdmp:restart((), &quot;Restarting MarkLogic Server&quot;)</Code>
<Heading-3>
<A ID="pgfId-1050172"></A>
<A ID="37071"></A>
Script that Stops MarkLogic Server</Heading-3>
<Body>
<A ID="pgfId-1050176"></A>
The following script stops MarkLogic Server:</Body>
<Code>
<A ID="pgfId-1050177"></A>
xquery version &quot;1.0-ml&quot;;
xdmp:shutdown((), &quot;Shutting Down MarkLogic Server&quot;)</Code>
</XML>
