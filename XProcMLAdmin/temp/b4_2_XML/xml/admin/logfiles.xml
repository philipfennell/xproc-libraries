<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="logfiles.css" type="text/css" charset="UTF-8"?>
<XML>
<TITLE> </TITLE><Heading-1>
<A ID="pgfId-1038002"></A>
<A ID="25791"></A>
Log Files</Heading-1>
<pagenum>
<A ID="pgfId-1038417"></A>
269</pagenum>
<Body>
<A ID="pgfId-1038003"></A>
This chapter describes the log files and includes the following sections:</Body>
<Body-bullet>
<A ID="pgfId-1042055"></A>
<A href="logfiles.xml#id(37841)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Understanding the Log Levels</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1042063"></A>
<A href="logfiles.xml#id(76790)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Configuring Log Files</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1042067"></A>
<A href="logfiles.xml#id(29580)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Viewing the System Log</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1042071"></A>
<A href="logfiles.xml#id(22670)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Viewing the File Log</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1046117"></A>
<A href="logfiles.xml#id(42187)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Access Log Files</Hyperlink>
</A></Body-bullet>
<Body>
<A ID="pgfId-1046122"></A>
For information on the audit log files, see <A href="auditing.xml#id(81935)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Auditing Events' on page&#160;84</A>.</Body>
<Heading-2>
<A ID="pgfId-1042051"></A>
<A ID="37841"></A>
Understanding the Log Levels</Heading-2>
<Body>
<A ID="pgfId-1042050"></A>
MarkLogic Server sends log messages to both the operating system log and the MarkLogic Server file log. Depending on how you configure your logging functions, both logs may or may not receive the equivalent number of messages. To enhance performance, the system log should receive fewer messages than the MarkLogic Server file log. </Body>
<Body>
<A ID="pgfId-1038004"></A>
MarkLogic Server uses the following log settings, where Finest is the most verbose while Emergency is the least verbose:</Body>
<TableAnchor>
<A ID="pgfId-1038058"></A>
</TableAnchor>
<TABLE>
<ROW>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1041970"></A>
Log Level</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1041972"></A>
Description</CellHeading>
</TH>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038011"></A>
<code>
Finest</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038013"></A>
Extremely detailed debug level messages.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038015"></A>
<code>
Finer</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038017"></A>
Very detailed debug level messages.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038019"></A>
<code>
Fine</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038021"></A>
Detailed debug level messages.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038023"></A>
<code>
Debug</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038025"></A>
Debug level messages.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038027"></A>
<code>
Config</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038029"></A>
Configuration messages.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038031"></A>
<code>
Info</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038033"></A>
Informational messages. This is the default setting.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1042685"></A>
<code>
Notice</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038037"></A>
Normal but significant conditions.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038039"></A>
<code>
Warning</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038041"></A>
Warning conditions.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038043"></A>
<code>
Error</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038045"></A>
Error conditions.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038047"></A>
<code>
Critical</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038049"></A>
Critical conditions.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038051"></A>
<code>
Alert</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038053"></A>
Immediate action required.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038055"></A>
<code>
Emergency</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038057"></A>
System is unusable.</CellBody>
</CELL>
</ROW>
</TABLE>
<Body>
<A ID="pgfId-1038060"></A>
Log file settings are applied on a per-group basis. </Body>
<Body>
<A ID="pgfId-1038061"></A>
By default, the system log for a group is set to Notice while the file log is set to Info. As such, the system log receives fewer log messages than the file log. You may change these settings to suit your needs. For example, if you are debugging a system problem, you may want to set the level to Debug to get more information. Keep in mind that log levels Debug and above degrade system performance significantly, so these log levels should not normally be used.</Body>
<Heading-2>
<A ID="pgfId-1038075"></A>
<A ID="76790"></A>
Configuring Log Files</Heading-2>
<Body>
<A ID="pgfId-1038076"></A>
To configure how log information is generated, perform the following steps:</Body>
<Number1>
<A ID="pgfId-1038077"></A>
Click the Groups icon on the left tree menu.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1038079"></A>
Click the group for which you want to configure the log file settings.</Number>
<Number>
<A ID="pgfId-1038080"></A>
Scroll down to the log settings, towards the bottom of the page.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1038081"></A>
The following example shows the default log settings:</Body-indent>
<Body-indent>
<A ID="pgfId-1038085"></A>
<IMAGE xml:link="simple" href="images/log.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1038086"></A>
Go to System Log Level and change the level if needed.</Number>
<Number>
<A ID="pgfId-1038087"></A>
Go to File Log Level and change the logging level of the MarkLogic Server private log file (<code>
ErrorLog.txt</code>
) if needed. </Number>
<Number>
<A ID="pgfId-1038088"></A>
Go to Rotate Log Files and select when MarkLogic Server should start a new private log file for this group.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1038089"></A>
The following table describes each time frame:</Body-indent>
<TableAnchor>
<A ID="pgfId-1038135"></A>
</TableAnchor>
<TABLE>
<ROW>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1042010"></A>
Time Frame</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1042012"></A>
Description</CellHeading>
</TH>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038096"></A>
<code>
Never</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038098"></A>
The log file grows without bound.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038100"></A>
<code>
Daily</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038102"></A>
A new log file is started every day at 12:00 A.M.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038104"></A>
<code>
Sunday</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038106"></A>
A new log file is started every week on Sunday at 12:00 A.M.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038108"></A>
<code>
Saturday</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038110"></A>
A new log file is started every week on Saturday at 12:00 A.M.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038112"></A>
<code>
Friday</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038114"></A>
A new log file is started every week on Friday at 12:00 A.M.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038116"></A>
<code>
Thursday</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038118"></A>
A new log file is started every week on Thursday at 12:00 A.M.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038120"></A>
<code>
Wednesday</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038122"></A>
A new log file is started every week on Wednesday at 12:00 A.M.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038124"></A>
<code>
Tuesday</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038126"></A>
A new log file is started every week on Tuesday at 12:00 A.M.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038128"></A>
<code>
Monday</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038130"></A>
A new log file is started every week on Monday at 12:00 A.M.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038132"></A>
<code>
Monthly</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1038134"></A>
A new log file is started at 12:00 AM on the first day of each month.</CellBody>
</CELL>
</ROW>
</TABLE>
<NumberList>
<Number>
<A ID="pgfId-1038137"></A>
Go to Keep Log Files and enter the number of private log files to keep.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1038138"></A>
The private log files are kept in an aging archive. After the number of log files grows to the value specified in the Keep Log File setting, when a new log file is started, the oldest log file archive is automatically deleted.</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1038139"></A>
Scroll to the top or bottom and click OK.</Number>
</NumberList>
<Heading-2>
<A ID="pgfId-1038140"></A>
<A ID="29580"></A>
Viewing the System Log</Heading-2>
<Body>
<A ID="pgfId-1038141"></A>
The system log messages that MarkLogic Server generates are viewable using the standard system log viewing tools available for your platform. On Windows platforms, the seven levels of logging messages are collapsed into three broad categories and the system log messages are registered as <code>
MarkLogic</code>
. On UNIX platforms, the system logs use the <code>
LOG_DAEMON</code>
 facility, which typically sends system log messages to a file such as <code>
/var/log/messages</code>
, although this can vary according to the configuration of your system.</Body>
<Heading-2>
<A ID="pgfId-1038142"></A>
<A ID="22670"></A>
Viewing the File Log</Heading-2>
<Body>
<A ID="pgfId-1038143"></A>
The private file log is maintained as a simple text file. You may view the current or any archived file log at any time using standard text file viewing tools. Additionally, you can access the log files from the Log tab on the main page of the Admin Interface.</Body>
<Body>
<A ID="pgfId-1038144"></A>
The file is stored in the MarkLogic Server data directory for your platform. You may have overridden the default location for this directory at installation time. The following table lists the default location of the file logs on your platform:</Body>
<TableAnchor>
<A ID="pgfId-1038162"></A>
</TableAnchor>
<TABLE>
<ROW>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1052029"></A>
Platform</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1052031"></A>
Private Log File</CellHeading>
</TH>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1052033"></A>
Microsoft Windows </CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1052035"></A>
<code>
C:\Program Files\MarkLogic\Data\Logs\ErrorLog.txt</code>
</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1052037"></A>
Red Hat Linux</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1052039"></A>
<code>
/var/opt/MarkLogic/Logs/ErrorLog.txt</code>
</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1052041"></A>
Sun Solaris</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1052043"></A>
<code>
/var/opt/MARKlogic/Logs/ErrorLog.txt</code>
</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1052049"></A>
Mac OS X</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1052051"></A>
<code>
~/MarkLogic/Logs/ErrorLog.txt</code>
</CellBody>
</CELL>
</ROW>
</TABLE>
<Body>
<A ID="pgfId-1038164"></A>
This file contains a set of log messages ordered chronologically. The number of messages depends on the system activity and on the log level that you set. For example, a file log set to Debug would contain many lines of messages whereas a file log set to Emergency would contain the minimum set of messages.</Body>
<Body>
<A ID="pgfId-1042039"></A>
Any trace events are also written to the MarkLogic Server <code>
ErrorLog.txt</code>
 file. Trace events are used to debug applications. You can enable and set trace events in the Admin Interface, on the Diagnostics page for a group. You can also generate your own trace events with the <code>
xdmp:trace</code>
 function.</Body>
<Note>
<A ID="pgfId-1042822"></A>
There must be sufficient disk space on the file system in which the log files reside. If there is no space left on the log file device, MarkLogic Server will abort. Additionally, if there is no disk space available for the log files, MarkLogic Server will fail to start.</Note>
<Heading-2>
<A ID="pgfId-1046097"></A>
<A ID="42187"></A>
Access Log Files</Heading-2>
<Body>
<A ID="pgfId-1046101"></A>
MarkLogic Server also produces access log files for each App Server. The access logs are in the NCSA combined log format, and show the requests made against each App Server. The access log files are in the same directory as the <code>
ErrorLog.txt</code>
 logs, and have the port number encoded into their name. For example, the access log files for the Admin Interface is named <code>
8001_AccessLog.txt</code>
. You may view the current or any archived file log at any time using standard text file viewing tools. Additionally, you can access the log files from the Log tab on the main page of the Admin Interface. Older versions of the access logs are aged from the system according to the settings configured at the group level, as described in <A href="logfiles.xml#id(76790)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Configuring Log Files' on page&#160;267</A>.</Body>
</XML>
