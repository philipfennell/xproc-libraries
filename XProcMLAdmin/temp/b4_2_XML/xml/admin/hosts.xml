<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="hosts.css" type="text/css" charset="UTF-8"?>
<XML>
<TITLE> </TITLE><Heading-1>
<A ID="pgfId-1038002"></A>
Hosts</Heading-1>
<pagenum>
<A ID="pgfId-1038607"></A>
171</pagenum>
<Body>
<A ID="pgfId-1048288"></A>
A host is an instance of MarkLogic Server. A host is not configured individually but as a member of a group. A host is added to the <Emphasis>
Default</Emphasis>
 group if it is not joined to another group during the installation process. For example, in cases of Standard Edition or Enterprise Edition running in a single host environment, the host is added to the <Emphasis>
Default</Emphasis>
 group.  </Body>
<Body>
<A ID="pgfId-1038004"></A>
Forests are created on hosts and added to a database to interact with HTTP servers and XDBC Servers running on the same or other hosts.</Body>
<Body>
<A ID="pgfId-1038005"></A>
See the chapters <A href="groups.xml#id(34776)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Groups' on page&#160;25</A> and <A href="databases.xml#id(69630)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Databases' on page&#160;96</A> for more details on hosts as they relate to groups and databases.</Body>
<Body>
<A ID="pgfId-1038006"></A>
A host is managed from both the Group and Hosts configuration screens. Use the following procedures to administer your hosts</Body>
<Body-bullet>
<A ID="pgfId-1038010"></A>
<A href="hosts.xml#id(39951)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Adding a Host to a Cluster</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1038014"></A>
<A href="hosts.xml#id(43968)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Changing the Group of the Host</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1038018"></A>
<A href="hosts.xml#id(38530)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Shutting Down or Restarting a Host</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1038022"></A>
<A href="hosts.xml#id(94287)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Clearing a Forest on a Host</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1038026"></A>
<A href="hosts.xml#id(16659)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Deleting a Forest on a Host</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1038034"></A>
<A href="hosts.xml#id(97383)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Leaving the Cluster</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1046950"></A>
<A href="hosts.xml#id(42502)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Changing the License Key For a Host</Hyperlink>
</A></Body-bullet>
<Body>
<A ID="pgfId-1048336"></A>
This chapter describes how to use the Admin Interface to manage hosts. For details on how to manage hosts programmatically, see <A href="../AdminAPI/maintenance.xml#id(97760)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Host Maintenance Operations</Hyperlink>
</A> in the <Emphasis>
Scripting Administrative Tasks Guide</Emphasis>
.</Body>
<Heading-2>
<A ID="pgfId-1038035"></A>
<A ID="39951"></A>
Adding a Host to a Cluster</Heading-2>
<Body>
<A ID="pgfId-1038036"></A>
This only applies for MarkLogic Server running Enterprise Edition in a distributed environment. For information about installing MarkLogic Server and a more detailed procedure about joining a cluster, see the <Emphasis>
Installation Guide</Emphasis>
.</Body>
<Body>
<A ID="pgfId-1042628"></A>
To add a host to a cluster, perform the following steps using the Admin Interface:</Body>
<Number1>
<A ID="pgfId-1038038"></A>
Install MarkLogic Server on the host if it is not already installed.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1038039"></A>
Start MarkLogic Server.</Number>
<Number>
<A ID="pgfId-1042656"></A>
Access the Admin Interface on the host in which you want to add to the cluster and accept the license agreement.</Number>
<Number>
<A ID="pgfId-1042681"></A>
After the server restarts, you will be prompted to join a cluster. </Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1042682"></A>
<IMAGE xml:link="simple" href="images/join_cluster.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1042690"></A>
Enter the DNS name or the IP address of one of the machines in the cluster. For example, if this is the second host you are installing, you can enter the DNS name of the first host you installed. </Number>
<Number>
<A ID="pgfId-1042696"></A>
You will be prompted for an admin username and password. Enter the admin username and password for the security database used by the cluster. Click OK.</Number>
<Number>
<A ID="pgfId-1042706"></A>
Select a Group to assign this host. Click OK.</Number>
<Number>
<A ID="pgfId-1042710"></A>
Click OK to confirm that you are joining the cluster.</Number>
<Number>
<A ID="pgfId-1038045"></A>
Click OK for the confirmation message that indicates that you have joined the cluster. </Number>
</NumberList>
<Heading-2>
<A ID="pgfId-1038046"></A>
<A ID="43968"></A>
Changing the Group of the Host</Heading-2>
<Body>
<A ID="pgfId-1038047"></A>
To change the group to which a host belongs, perform the following steps using the Admin Interface:</Body>
<Number1>
<A ID="pgfId-1038048"></A>
Click the Hosts icon in the left frame.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1038049"></A>
Click the name of the host you want to change, either on the tree menu or the summary page.</Number>
<Number>
<A ID="pgfId-1038051"></A>
Select from the available groups in the Group drop-down menu.</Number>
<Number>
<A ID="pgfId-1038052"></A>
Click OK to confirm the change.</Number>
</NumberList>
<EndList-root>
<A ID="pgfId-1038053"></A>
Changing the group to which a host belongs is a 'cold' task; the server restarts to reflect the changes.</EndList-root>
<Heading-2>
<A ID="pgfId-1038054"></A>
<A ID="38530"></A>
Shutting Down or Restarting a Host</Heading-2>
<Body>
<A ID="pgfId-1038055"></A>
To shut down or to restart a host, perform the following steps:</Body>
<Number1>
<A ID="pgfId-1038056"></A>
Click the Hosts icon on the left tree menu.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1038057"></A>
Click the name of the host you want to shut down or restart, either on the tree menu or the summary page.</Number>
<Number>
<A ID="pgfId-1038058"></A>
Click the Status tab at the top right.</Number>
<Number>
<A ID="pgfId-1038059"></A>
Click the Shutdown or the Restart button as appropriate.</Number>
<Number>
<A ID="pgfId-1038060"></A>
Click OK to confirm to confirm the shutdown or restart operation.</Number>
</NumberList>
<Note>
<A ID="pgfId-1042447"></A>
The restart operation normally completes within a few seconds. It is possible, however, for it to take longer under some conditions (for example, if the Security database needs to run recovery or if the connectivity between hosts in a cluster is slow). If it takes longer than a few seconds for MarkLogic Server to restart, than the Admin Interface might return a <code>
503: Service Unavailable</code>
 message. If you encounter this situation, wait several seconds and then reload the Admin Interface.</Note>
<Heading-2>
<A ID="pgfId-1038061"></A>
<A ID="94287"></A>
Clearing a Forest on a Host</Heading-2>
<Body>
<A ID="pgfId-1038062"></A>
Clearing a forest on a host permanently deletes the data in the forest. The configuration information of the forest will be preserved. For example, you may want to clear the forest if you want to load new data into the same configuration. </Body>
<Body>
<A ID="pgfId-1042225"></A>
To clear the data from a forest, perform the following steps using the Admin Interface:</Body>
<Number1>
<A ID="pgfId-1038063"></A>
Click the Hosts icon on the left tree menu.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1038064"></A>
Click the name of the host which contains the forest you want to clear, either on the tree menu or the summary page.</Number>
<Number>
<A ID="pgfId-1038065"></A>
Click the Forests icon under the selected host.</Number>
<Number>
<A ID="pgfId-1038067"></A>
Click the Clear button corresponding to the forest you want to clear.</Number>
<Number>
<A ID="pgfId-1038068"></A>
Click OK to confirm clearing the data from the forest.</Number>
</NumberList>
<Heading-2>
<A ID="pgfId-1038069"></A>
<A ID="16659"></A>
Deleting a Forest on a Host</Heading-2>
<Body>
<A ID="pgfId-1038070"></A>
Deleting a forest on a host permanently deletes the data in the forest as well as the configuration information. A forest cannot be deleted if it is still attached to a database. You must first detach the forest from the database before you can delete from a host. </Body>
<Body>
<A ID="pgfId-1042260"></A>
Assuming that the forest is not attached to any database, perform the following steps to delete a forest from a host.</Body>
<Number1>
<A ID="pgfId-1042272"></A>
Click the Hosts icon on the left tree menu.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1042273"></A>
Click the name of the host which contains the forest you want to delete, either on the tree menu or the summary page.</Number>
<Number>
<A ID="pgfId-1038072"></A>
Click the Forests icon under the selected host.</Number>
<Number>
<A ID="pgfId-1038074"></A>
Click on the Delete button corresponding to the forest you want to delete.</Number>
<Number>
<A ID="pgfId-1042763"></A>
Click OK to confirm deleting the forest from the host.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1042764"></A>
<IMAGE xml:link="simple" href="images/forest_delete.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1042765"></A>
Click the Delete button.</Number>
<Number>
<A ID="pgfId-1038098"></A>
Click OK to confirm dropping the host.</Number>
</NumberList>
<EndList-root>
<A ID="pgfId-1038099"></A>
Deleting a host is a 'hot' admin task for the other hosts in the group. </EndList-root>
<Heading-2>
<A ID="pgfId-1038100"></A>
<A ID="97383"></A>
Leaving the Cluster</Heading-2>
<Body>
<A ID="pgfId-1043073"></A>
A host has to leave a cluster first to be moved to another cluster. Leaving a cluster is also a way to switch a host from a single host environment to a multi-host environment or vice versa. A host cannot leave a cluster if there are still forests assigned to it. In a single-host environment, a host cannot leave a cluster because it will always have forests assigned to it. </Body>
<Body>
<A ID="pgfId-1038103"></A>
Perform the following steps to make a host leave a cluster:</Body>
<Number1>
<A ID="pgfId-1038104"></A>
Access the Admin Interface from any host in the cluster.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1038105"></A>
Click on the Hosts icon in the left frame.</Number>
<Number>
<A ID="pgfId-1043059"></A>
Click on the name of the host you want to remove from the cluster. The host configuration screen appears:</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1043060"></A>
<IMAGE xml:link="simple" href="images/leave.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1038113"></A>
Click on the Leave button.</Number>
<Number>
<A ID="pgfId-1038114"></A>
Click OK to confirm leaving the cluster.</Number>
<Number>
<A ID="pgfId-1038115"></A>
The host restarts to load the new configuration.</Number>
<Number>
<A ID="pgfId-1038116"></A>
Click OK to self-install initial databases and application servers.</Number>
<Number>
<A ID="pgfId-1038117"></A>
You will be prompted to join a cluster. </Number>
<Number>
<A ID="pgfId-1038118"></A>
To join another cluster, enter the name of one of the hosts in that cluster and click OK. Otherwise, click Skip.</Number>
<Number>
<A ID="pgfId-1038119"></A>
Set up an admin user name and password if prompted.</Number>
<Number>
<A ID="pgfId-1038120"></A>
Log in with the admin user name and password if prompted.</Number>
</NumberList>
<EndList-root>
<A ID="pgfId-1042897"></A>
You should see the Admin Interface.</EndList-root>
<Heading-2>
<A ID="pgfId-1046951"></A>
<A ID="42502"></A>
Changing the License Key For a Host</Heading-2>
<Body>
<A ID="pgfId-1046955"></A>
At any time, you can change the license key for a host from the Host Status page. You might need to change the license key if your license key expires, if you need to use some features that are not covered in your existing license key, if you upgrade your hardware with more CPUs and/or more cores, if you need a license that covers a larger database, if you require different languages, or for various other reasons. Changing the license key sometimes results in an automatic restart of MarkLogic Server (for example, if your new license enables a new language).</Body>
<Body>
<A ID="pgfId-1047004"></A>
To change the license key for a host, perform the following steps using the Admin Interface:</Body>
<Number1>
<A ID="pgfId-1046984"></A>
Click the Hosts icon on the left tree menu.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1046973"></A>
Click the name of the host in which contains you want to change the license key, either on the tree menu or the summary page. The Host Configuration page appears.</Number>
<Number>
<A ID="pgfId-1046987"></A>
Click the Status tab. The Host Status page appears.</Number>
<Number>
<A ID="pgfId-1046990"></A>
Click the License Key button. The License Key Entry page appears.</Number>
<Number>
<A ID="pgfId-1046991"></A>
Enter your new license key information. For information about licensing of MarkLogic Server, contact your MarkLogic sales representative. </Number>
<Number>
<A ID="pgfId-1046997"></A>
After entering valid information in the Licensee and License Key fields, click OK. If it needs to, MarkLogic Server will automatically restart, and the new license key will take effect.</Number>
</NumberList>
</XML>
