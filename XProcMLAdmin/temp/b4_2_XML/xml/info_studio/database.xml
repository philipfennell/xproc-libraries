<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="database.css" type="text/css" charset="UTF-8"?>
<XML>
<TITLE> </TITLE><Heading-1>
<A ID="pgfId-1062302"></A>
<A ID="87773"></A>
Creating and Configuring Databases</Heading-1>
<pagenum>
<A ID="pgfId-1062787"></A>
19</pagenum>
<Body>
<A ID="pgfId-1062303"></A>
This chapter describes how to create and configure a database in Information Studio. You must have the <code>
infostudio-role</code>
 to accomplish these tasks in Information Studio.</Body>
<Body-bullet>
<A ID="pgfId-1062310"></A>
<A href="database.xml#id(11077)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Database section of the Application Services Page</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1066449"></A>
<A href="database.xml#id(39463)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Creating a New Database</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1063592"></A>
<A href="database.xml#id(48039)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Configuring a Database</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1066174"></A>
<A href="database.xml#id(40741)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Deleting a Database</Hyperlink>
</A></Body-bullet>
<Heading-2>
<A ID="pgfId-1066295"></A>
<A ID="11077"></A>
Database section of the Application Services Page</Heading-2>
<Body>
<A ID="pgfId-1066296"></A>
When you start Application Services, the Application Services page opens. At the top of the Application Services page is the Database section.</Body>
<Body-indent>
<A ID="pgfId-1066301"></A>
<IMAGE xml:link="simple" href="images/doc-databases-home.gif" show="embed" actuate="auto"/>
</Body-indent>
<Body>
<A ID="pgfId-1066302"></A>
The Database section provides you with access to all of the databases in your MarkLogic&#160;Server and allows you to create a new database, configure a database, or delete a database. Select a database from the Database pull-down menu and click a button to the right to perform the desired operation.</Body>
<Body>
<A ID="pgfId-1066303"></A>
The following table lists the actions on the Database section of the Application Services page:</Body>
<TableAnchor>
<A ID="pgfId-1066327"></A>
</TableAnchor>
<TABLE>
<ROW>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1066306"></A>
Action</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1066308"></A>
Description</CellHeading>
</TH>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1066310"></A>
New Database</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1066315"></A>
Creates a new database, as described in <A href="database.xml#id(39463)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Creating a New Database' on page&#160;10</A>.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1066317"></A>
Configure</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1066319"></A>
Configure a database, as described in <A href="database.xml#id(48039)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Configuring a Database' on page&#160;11</A>.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1066321"></A>
Delete</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1066323"></A>
Delete a database, as described in <A href="database.xml#id(40741)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Deleting a Database' on page&#160;19</A>.</CellBody>
</CELL>
</ROW>
</TABLE>
<Heading-2>
<A ID="pgfId-1063390"></A>
<A ID="39463"></A>
Creating a New Database</Heading-2>
<Body>
<A ID="pgfId-1063404"></A>
This section describes how to create a new database. Creating a new database creates a database and its respective forest.</Body>
<Number1>
<A ID="pgfId-1063971"></A>
To create a new database, click New Database at the top of the Application Services page:</Number1>
<Body-indent>
<A ID="pgfId-1063411"></A>
<IMAGE xml:link="simple" href="images/doc-newDatabase.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1063435"></A>
In the New Database window, enter the name of the new database and click Create Database:</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1063460"></A>
<IMAGE xml:link="simple" href="images/doc-database-name.gif" show="embed" actuate="auto"/>
</Body-indent>
<Heading-2>
<A ID="pgfId-1063467"></A>
<A ID="48039"></A>
Configuring a Database</Heading-2>
<Body>
<A ID="pgfId-1063619"></A>
This section describes how to configure a database. The main topics are:</Body>
<Body-bullet>
<A ID="pgfId-1064154"></A>
<A href="database.xml#id(76024)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Navigating to the Database Settings Page</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1066720"></A>
<A href="database.xml#id(59091)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Configuring Text Indexes</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1064835"></A>
<A href="database.xml#id(31062)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Configuring Database Range Indexes</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1064172"></A>
<A href="database.xml#id(51696)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Configuring Database Fields</Hyperlink>
</A></Body-bullet>
<Heading-3>
<A ID="pgfId-1063995"></A>
<A ID="76024"></A>
Navigating to the Database Settings Page</Heading-3>
<Body>
<A ID="pgfId-1066687"></A>
To open the Database Settings page, do the following:</Body>
<Number1>
<A ID="pgfId-1066673"></A>
To configure a database, select the database from the Database pull down window at the top of the Application Services page:</Number1>
<Body-indent>
<A ID="pgfId-1064016"></A>
<IMAGE xml:link="simple" href="images/doc-database-configure1.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1064038"></A>
After selecting the database, click the Configure button:</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1064045"></A>
<IMAGE xml:link="simple" href="images/doc-database-configure2.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1063481"></A>
The Database Settings page appears:</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1063524"></A>
<IMAGE xml:link="simple" href="images/doc-database-configure3.gif" show="embed" actuate="auto"/>
</Body-indent>
<Heading-3>
<A ID="pgfId-1064783"></A>
<A ID="59091"></A>
Configuring Text Indexes</Heading-3>
<Body>
<A ID="pgfId-1064805"></A>
Information Studio provides a subset of the text indexing options provided by the Admin Interface, which are described in the <A href="../admin/text_index.xml#id(37170)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Text Indexing</Hyperlink>
</A> chapter in the <Emphasis>
Administrator's Guide</Emphasis>
. This section describes how to configure some of the more common text indexing options using Information Studio. </Body>
<Body>
<A ID="pgfId-1064794"></A>
The text indexing settings are described below. Each setting is described in detail in the <A href="../admin/text_index.xml#id(20530)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Understanding the Text Index Settings</Hyperlink>
</A> section in the <Emphasis>
Administrator's Guide</Emphasis>
. These settings enable more efficient searches of the documents in your database. The cost of more efficient searches is slower loading times of the content into the database, as well as an increased use of system resources, such as memory and disk space.</Body>
<Body-bullet>
<A ID="pgfId-1064877"></A>
Checking Wildcards enables Three Character Searches and Codepoint Word Lexicon indexing. Use this setting for more efficient wildcard searches on the documents in your database. </Body-bullet>
<Body-bullet>
<A ID="pgfId-1064878"></A>
Checking Positions enables Word Positions indexing. Use this setting for more efficient phrase searches on the documents in your database.</Body-bullet>
<Body-bullet>
<A ID="pgfId-1064865"></A>
Checking both Wildcard and Positions enables Three Character Word Position indexing. Use this setting for better performance when wildcards are used in phrase searches on the documents in your database.</Body-bullet>
<Body-bullet>
<A ID="pgfId-1065109"></A>
Checking Collection Lexicon enables Collection Lexicon indexing. Use this setting for more efficient searches that constrain on collections.</Body-bullet>
<Body-indent>
<A ID="pgfId-1064775"></A>
<IMAGE xml:link="simple" href="images/doc-text-indexing.gif" show="embed" actuate="auto"/>
</Body-indent>
<Heading-3>
<A ID="pgfId-1063572"></A>
<A ID="31062"></A>
Configuring Database Range Indexes</Heading-3>
<Body>
<A ID="pgfId-1065557"></A>
MarkLogic Server maintains an index for every database to enable search applications to rapidly search the text, structure, and combinations of the text and structure in XML documents. Defining a range index on an element or attribute enables more efficient range query search operations, such as those described in the <A href="../appbuilder/wizard.xml#id(49161)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Search Page</Hyperlink>
</A> section in the <Emphasis>
Application Builder Developer's Guide</Emphasis>
. For documents that contain numeric or date information, queries may include search conditions based on inequalities (for example, price &lt; 100.00 or date ? thisQtr). </Body>
<Body>
<A ID="pgfId-1063788"></A>
Range indexes are described in detail in the <A href="../admin/range_index.xml#id(21361)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Element and Attribute Range Indexes and Lexicons</Hyperlink>
</A> chapter in the <Emphasis>
Administrator's Guide</Emphasis>
. This section describes how to create them using Information Studio. </Body>
<Body>
<A ID="pgfId-1063728"></A>
To create either an attribute range index or an element range index, select Add New at the bottom of the Range Indexes portion of the Database Settings window:</Body>
<Body-indent>
<A ID="pgfId-1063742"></A>
<IMAGE xml:link="simple" href="images/range-index-add.gif" show="embed" actuate="auto"/>
</Body-indent>
<Heading-4>
<A ID="pgfId-1063627"></A>
Creating an Attribute Range Index</Heading-4>
<Body>
<A ID="pgfId-1063894"></A>
This section describes how to create an Attribute Range Index.</Body>
<Number1>
<A ID="pgfId-1064075"></A>
After clicking Add New, a selection box appears. Click Attribute Index:</Number1>
<Body-indent>
<A ID="pgfId-1064082"></A>
<IMAGE xml:link="simple" href="images/doc-attribute-range-index-select.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1063802"></A>
Select the data type of the attribute from the pull-down menu and enter the collation at the top of the page. Enter the name of the attribute to be indexed and click Find. If content similar to that being loaded is already present in the database, all of the elements that contain the attribute appear. Select the element to be indexed from the list. </Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1063687"></A>
<IMAGE xml:link="simple" href="images/doc-attribute-range-index-window.gif" show="embed" actuate="auto"/>
</Body-indent>
<TableAnchor>
<A ID="pgfId-1065411"></A>
</TableAnchor>
<TABLE>
<ROW>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1065425"></A>
Field</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1065427"></A>
Description</CellHeading>
</TH>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1066244"></A>
Data Type</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1066246"></A>
The type of attribute data. Each of the types correspond with an XQuery type.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1066248"></A>
Collation</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1066250"></A>
If the attribute data type is string, then you can specify the URI for the collation to use. Collations specify the order in which strings are sorted and how they are compared. The UCA Root Collation is set by default.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1065429"></A>
Attribute</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1065431"></A>
The name of the attribute you want to index.</CellBody>
</CELL>
</ROW>
</TABLE>
<Heading-4>
<A ID="pgfId-1063913"></A>
Creating an Element Range Index</Heading-4>
<Body>
<A ID="pgfId-1064200"></A>
This section describes how to create an Element Range Index. An Element Range Index accelerates queries for comparisons within a specified type. Each Element Range Index keeps track of the values appearing in all elements with a given name, type, and collation. Element Range Indexes also allow you to use the <code>
cts:element-values</code>
 family of lexicon APIs and to use the <code>
cts:element-range-query</code>
 constructor in searches.</Body>
<Body>
<A ID="pgfId-1065288"></A>
To create an Element Range Index, do the following:</Body>
<Number1>
<A ID="pgfId-1064201"></A>
After clicking Add New, a selection box appears. Click Element Index:</Number1>
<Body-indent>
<A ID="pgfId-1064258"></A>
<IMAGE xml:link="simple" href="images/doc-element-range-index-select.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1064259"></A>
Select the data type of the element from the pull-down menu and enter the collation at the top of the page. Enter the name of the element to be indexed and click Find. If content similar to that being loaded is already present in the database, all of the elements that match the specified name appear. Select the element to be indexed below. </Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1063836"></A>
<IMAGE xml:link="simple" href="images/doc-element-range-index-window.gif" show="embed" actuate="auto"/>
</Body-indent>
<TableAnchor>
<A ID="pgfId-1065469"></A>
</TableAnchor>
<TABLE>
<ROW>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1065348"></A>
Field</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1065350"></A>
Description</CellHeading>
</TH>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1066274"></A>
Data Type</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1066276"></A>
The type of element data. Each of the types correspond with an XQuery type.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1066278"></A>
Collation</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1066280"></A>
If the element data type is string, then you can specify the URI for the collation to use. Collations specify the order in which strings are sorted and how they are compared. The UCA Root Collation is set by default.</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1065352"></A>
Element</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1065354"></A>
The name of the element you want to index.</CellBody>
</CELL>
</ROW>
</TABLE>
<Heading-3>
<A ID="pgfId-1063638"></A>
<A ID="51696"></A>
Configuring Database Fields</Heading-3>
<Body>
<A ID="pgfId-1065763"></A>
You can group elements into fields and then formulate searches that are constrained to those fields, as described in the <A href="../appbuilder/wizard.xml#id(37582)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Add/Modify Word Constraint</Hyperlink>
</A> section in the <Emphasis>
Application Builder Developer's Guide</Emphasis>
. A field can explicitly include elements, depending on their relevance when searching the content. Searches on the included elements in a field can be further constrained by the element's attributes and attribute values.</Body>
<Body>
<A ID="pgfId-1064305"></A>
Fields are described in detail in the <A href="../admin/fields.xml#id(61682)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Fields Database Settings</Hyperlink>
</A> chapter in the <Emphasis>
Administrator's Guide</Emphasis>
. This section describes how to create fields using Information Studio. </Body>
<Number1>
<A ID="pgfId-1064368"></A>
To create a field, select Add New at the bottom of the Fields portion of the Database Settings window:</Number1>
<Body-indent>
<A ID="pgfId-1063538"></A>
<IMAGE xml:link="simple" href="images/doc-field-select.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1063545"></A>
In the Configure Field page, specify the Field Name and the Localname of the element to be included in the field. You can optionally specify the element's Namespace, Attribute, and attribute Value. </Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1063552"></A>
<IMAGE xml:link="simple" href="images/doc-field-configure1.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1066610"></A>
To include additional elements in the field, click Add New under the Include Elements section and fill in the element information. You can also delete an element from the field by clicking Delete. When finished, click Done. </Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1066588"></A>
<IMAGE xml:link="simple" href="images/doc-field-name.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1064462"></A>
The configured field will appear in the Fields list. To delete the field, click Delete. </Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1064442"></A>
<IMAGE xml:link="simple" href="images/doc-field-configure2.gif" show="embed" actuate="auto"/>
</Body-indent>
<Heading-2>
<A ID="pgfId-1064538"></A>
<A ID="40741"></A>
Deleting a Database</Heading-2>
<Body>
<A ID="pgfId-1066114"></A>
To delete a database, select the database from the Database pull-down menu and click Delete. Click OK in the ‘Are you sure you'd like to delete this database?' popup window. Both the database and its respective forest are deleted.</Body>
<Note>
<A ID="pgfId-1066139"></A>
If the database is currently being used by an App Server, the Delete button will be inactive. You must first change the database used by the App Server or remove the App Server before you can delete its database.</Note>
<Body-indent>
<A ID="pgfId-1066152"></A>
<IMAGE xml:link="simple" href="images/doc-database-delete.gif" show="embed" actuate="auto"/>
</Body-indent>
</XML>
