<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="procedures.css" type="text/css" charset="UTF-8"?>
<XML>
<TITLE> </TITLE><Heading-1>
<A ID="pgfId-1037942"></A>
Procedures</Heading-1>
<pagenum>
<A ID="pgfId-1122264"></A>
35</pagenum>
<Body>
<A ID="pgfId-1037943"></A>
This section describes the following procedures to install MarkLogic Server on your system.</Body>
<Body-bullet>
<A ID="pgfId-1037947"></A>
<A href="procedures.xml#id(49025)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Upgrading from Previous Releases</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1120390"></A>
<A href="procedures.xml#id(46935)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Turning Off Internet Explorer User-Friendly HTTP Messages</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1120394"></A>
<A href="procedures.xml#id(28962)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Installing MarkLogic Server</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1120399"></A>
<A href="procedures.xml#id(92457)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Starting MarkLogic Server</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1120403"></A>
<A href="procedures.xml#id(25257)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Entering the License Key and Accepting the License Agreement</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1120407"></A>
<A href="procedures.xml#id(43943)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Configuring a New Installation</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1120411"></A>
<A href="procedures.xml#id(51144)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Enterprise Edition: Configuring the First and Subsequent Hosts</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1120416"></A>
<A href="procedures.xml#id(84772)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Checking for the Correct Software Version</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1133824"></A>
<A href="procedures.xml#id(32108)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Configuring MarkLogic Server on UNIX Systems to Run as a Non-daemon User</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1120420"></A>
<A href="procedures.xml#id(53295)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Removing MarkLogic Server</Hyperlink>
</A></Body-bullet>
<Body>
<A ID="pgfId-1037991"></A>
Be sure to complete each procedure in the order presented.</Body>
<Heading-2>
<A ID="pgfId-1037992"></A>
<A ID="49025"></A>
Upgrading from Previous Releases</Heading-2>
<Body>
<A ID="pgfId-1128018"></A>
If you have previously installed MarkLogic Server on this machine, you must uninstall the old release before proceeding with the new installation. For information on removing the software, see <A href="procedures.xml#id(53295)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Removing MarkLogic Server' on page&#160;33</A> or the <Emphasis>
Installation Guide</Emphasis>
 from the previous release. This section describes the following information and upgrade paths:</Body>
<Body-bullet>
<A ID="pgfId-1126617"></A>
<A href="procedures.xml#id(55527)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Note That Reindexing is On By Default</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1130341"></A>
<A href="procedures.xml#id(77358)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Upgrading from Release 4.2-1 or Later</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1126621"></A>
<A href="procedures.xml#id(49978)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Upgrading from Release 4.0 or 4.1</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1126622"></A>
<A href="procedures.xml#id(54482)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Upgrading from Release 3.2 or earlier</Hyperlink>
</A></Body-bullet>
<Body>
<A ID="pgfId-1134441"></A>
If you are upgrading a cluster to a new release, see <A href="../cluster/config_cluster.xml#id(21237)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Upgrading a Cluster to a New Maintenance Release of MarkLogic Server</Hyperlink>
</A> in the <Emphasis>
Scalability, Availability, and Failover Guide</Emphasis>
. The security database and the schemas database must be on the same host, and that host should be the first host you upgrade when upgrading a cluster.</Body>
<Note>
<A ID="pgfId-1134708"></A>
If you are upgrading from 4.0 or from 4.1 without Application Builder and you want to install Application Services after you upgrade and start MarkLogic Server, you can add the App Server needed for the Application Services as described in <A href="../appbuilder/intro.xml#id(10407)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Setting Up and Starting Application Services</Hyperlink>
</A> in the <Emphasis>
Application Builder Developer's Guide</Emphasis>
.</Note>
<Heading-3>
<A ID="pgfId-1119167"></A>
<A ID="55527"></A>
Note That Reindexing is On By Default</Heading-3>
<Body>
<A ID="pgfId-1130340"></A>
Before upgrading from 4.0 or 4.1 to 4.2, be aware that database reindexing is enabled by default. If you have a very large database, or if you have many databases configured, they will start reindexing after you install MarkLogic Server as soon as you accept the license key. Reindexing is a CPU and disk-intensive process, and it can take some time. Consequently, it can slow down the machine, particularly if the machine has a slow disk system (for example, a development laptop).</Body>
<Body>
<A ID="pgfId-1130353"></A>
If you want to delay reindexing, set <code>
reindex enable</code>
 to <code>
false</code>
 in your database configurations <Emphasis>
before</Emphasis>
 you install MarkLogic Server 4.2 (that is, you must set <code>
reindex enable</code>
 to <code>
false</code>
 in 4.1 or 4.0). MarkLogic Server 4.2 will then run in 4.1 or 4.2 compatibility mode until reindexing is enabled and completes. To re-enable indexing, set <code>
reindex enable</code>
 to <code>
true</code>
 in your database configurations after completing the installation (that is, after accepting the license key, and perfoming the configuration and security database upgrades). After reindexing has been enabled, it will commence immediately and continue until it is done, or until reindexing is disabled. For details about database compatibility, see <A href="intro.xml#id(80903)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Upgrades and Database Compatibility' on page&#160;7</A>.</Body>
<Heading-3>
<A ID="pgfId-1133734"></A>
<A ID="77358"></A>
Upgrading from Release 4.2-1 or Later</Heading-3>
<Body>
<A ID="pgfId-1133735"></A>
To upgrade from release 4.2-1 or later to the current 4.2 release, perform the following basic steps:</Body>
<Number1>
<A ID="pgfId-1133741"></A>
Shut down MarkLogic Server 4.2 (as described in step 1 of <A href="procedures.xml#id(53295)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Removing MarkLogic Server' on page&#160;33</A>).</Number1>
<NumberList>
<Number>
<A ID="pgfId-1130307"></A>
Uninstall the old 4.2 release (as described in <A href="procedures.xml#id(53295)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Removing MarkLogic Server' on page&#160;33</A>).</Number>
<Number>
<A ID="pgfId-1130286"></A>
Install the new 4.2 release (as described in <A href="procedures.xml#id(28962)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Installing MarkLogic Server' on page&#160;15</A>).</Number>
</NumberList>
<Body>
<A ID="pgfId-1134391"></A>
If you are upgrading a cluster to a new release, see <A href="../cluster/config_cluster.xml#id(21237)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Upgrading a Cluster to a New Maintenance Release of MarkLogic Server</Hyperlink>
</A> in the <Emphasis>
Scalability, Availability, and Failover Guide</Emphasis>
.</Body>
<WarningList>
<Warning>
<A ID="pgfId-1126655"></A>
There is no direct upgrade path from Early Access releases of 4.2 to this release. If you need to move any data from an Early Access release to this release, you must re-create the data in the current release.</Warning>
</WarningList>
<Heading-3>
<A ID="pgfId-1128334"></A>
<A ID="49978"></A>
Upgrading from Release 4.0 or 4.1</Heading-3>
<Body>
<A ID="pgfId-1128338"></A>
MarkLogic Server 4.2 installs in the same default directory as Release 4.1 and 4.0, so there is no need to move any old files around. The upgrade to Release 4.2 does incorporate an automatic update to the Security database and to the configuration files. The Security database upgrade occurs when you first access the Admin Interface after the Release 4.2 installation (and after accepting the license agreement).</Body>
<Body>
<A ID="pgfId-1128705"></A>
Uninstalling a previous release of MarkLogic Server does not remove or delete the user data files (the forests and configuration information). When upgrading to MarkLogic Server 4.2, you must first uninstall previous releases of MarkLogic Server.</Body>
<Note>
<A ID="pgfId-1134756"></A>
For Enterprise Edition installations, if you are upgrading a cluster of two or more servers, you must first upgrade the server in which the Security database is mounted. The Security database must be available before subsequent hosts can join the cluster.</Note>
<Body>
<A ID="pgfId-1134757"></A>
The basic steps to upgrade from Release 4.0 or 4.1 to Release 4.2 are as follows:</Body>
<Number1>
<A ID="pgfId-1134761"></A>
As a precaution, perform database backups on your MarkLogic Server 4.0 or 4.1 databases.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1128645"></A>
If you do not want to reindex a database, disable reindexing for that database before installing MarkLogic Server&#160;4.0 or 4.1 (set <code>
reindexer enable</code>
 to <code>
false</code>
 on the Database Configuration page of the Admin Interface). The entire database will be reindexed after upgrading to 4.2 unless you disable reindexing. For details, see <A href="intro.xml#id(80903)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Upgrades and Database Compatibility' on page&#160;7</A>. You can always reindex the database later by setting <code>
reindexer enable</code>
 database configuration option to <code>
true</code>
.</Number>
<Number>
<A ID="pgfId-1130084"></A>
Shut down MarkLogic Server 4.0 or 4.1 (as described in step 1 of <A href="procedures.xml#id(53295)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Removing MarkLogic Server' on page&#160;33</A>).</Number>
<Number>
<A ID="pgfId-1128649"></A>
Uninstall MarkLogic Server 4.0 or 4.1 (as described in <A href="procedures.xml#id(53295)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Removing MarkLogic Server' on page&#160;33</A>).</Number>
<Number>
<A ID="pgfId-1128653"></A>
Install MarkLogic Server 4.2 (as described in <A href="procedures.xml#id(28962)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Installing MarkLogic Server' on page&#160;15</A>).</Number>
<Number>
<A ID="pgfId-1128660"></A>
Start MarkLogic Server 4.2 (as described in <A href="procedures.xml#id(92457)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Starting MarkLogic Server' on page&#160;18</A>).</Number>
<Number>
<A ID="pgfId-1128667"></A>
Open the Admin Interface in a browser (<Hyperlink>
<A href="http://localhost:8001/" xml:link="simple" show="replace" actuate="user" CLASS="URL">http://localhost:8001/</A></Hyperlink>
).</Number>
<Number>
<A ID="pgfId-1128680"></A>
Accept the license agreement.</Number>
</NumberList>
<Note>
<A ID="pgfId-1128686"></A>
Accepting this license agreement is optional. However, to begin using MarkLogic Server, you must accept the terms and conditions outlined in the license agreement. If you have executed a written software license with MarkLogic Corporation, the agreement displayed references that written agreement.</Note>
<NumberList>
<Number>
<A ID="pgfId-1128682"></A>
When the Admin Interface prompts you to upgrade the Security database and the configuration files, click the button to confirm the upgrade. </Number>
</NumberList>
<Body>
<A ID="pgfId-1128195"></A>
There are some known application incompatibilities between 4.2 and 4.1, as well as some incompatibilities between 4.1 and 4.0. Some of the incompatibilities might require minor code changes to your applications. For details on these incompatibilities, see the <Emphasis>
Release Notes</Emphasis>
. </Body>
<Heading-3>
<A ID="pgfId-1126626"></A>
<A ID="54482"></A>
Upgrading from Release 3.2 or earlier</Heading-3>
<Body>
<A ID="pgfId-1126630"></A>
MarkLogic Server 4.2 only supports upgrading from Release 4.0-1 or later; it does not provide a direct upgrade path for previous releases of MarkLogic Server. If you are upgrading from a 3.2 or earlier release of MarkLogic Server, either install this release as a clean installation or upgrade your existing release to Release 4.0 before installing this release. For details on upgrading a MarkLogic Server Release 3.2 or earlier release to 4.0, see the <Emphasis>
Installation Guide</Emphasis>
 for MarkLogic Server&#160;4.0. If you are upgrading from 3.2 and do not want to reindex your content, set the <code>
reindexer enable</code>
 to <code>
false</code>
 before upgrading from 4.0 to 4.1. You can run MarkLogic Server 4.2 in either 3.0, 3.1, 3.2, 4.0, or 4.1 compatibility mode, as described in <A href="intro.xml#id(80903)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Upgrades and Database Compatibility' on page&#160;7</A>.</Body>
<Heading-2>
<A ID="pgfId-1082244"></A>
<A ID="46935"></A>
Turning Off Internet Explorer User-Friendly HTTP Messages</Heading-2>
<Body>
<A ID="pgfId-1082245"></A>
If you are using a Microsoft Internet Explorer browser, turn off the 'Show friendly HTTP messages' option. Turning this option off allows any error messages from MarkLogic Server to display in full in your browser. Perform the following steps to turn this option off:</Body>
<Number1>
<A ID="pgfId-1082246"></A>
Start Internet Explorer.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1082247"></A>
Select Tools &gt; Internet Options from the Internet Explorer menu.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1082248"></A>
The Internet Options dialog box appears.</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1082249"></A>
Click the Advanced tab.</Number>
<Number>
<A ID="pgfId-1082250"></A>
Scroll down and uncheck the 'Show friendly HTTP messages' option.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1082254"></A>
<IMAGE xml:link="simple" href="images/friendlyHTTP.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1082255"></A>
Click OK.</Number>
</NumberList>
<Heading-2>
<A ID="pgfId-1119613"></A>
<A ID="28962"></A>
Installing MarkLogic Server</Heading-2>
<Body>
<A ID="pgfId-1119620"></A>
This section describes the procedure for installing MarkLogic Server on each platform. Perform the procedure corresponding to the platform to which you are installing. </Body>
<Body>
<A ID="pgfId-1134459"></A>
If you are upgrading a cluster to a new release, see <A href="../cluster/config_cluster.xml#id(21237)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Upgrading a Cluster to a New Maintenance Release of MarkLogic Server</Hyperlink>
</A> in the <Emphasis>
Scalability, Availability, and Failover Guide</Emphasis>
.</Body>
<TableAnchor>
<A ID="pgfId-1120817"></A>
</TableAnchor>
<TABLE>
<ROW>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1120800"></A>
Platform</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1120802"></A>
Perform the following:</CellHeading>
</TH>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120804"></A>
Windows (x86 and x64)</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Number1>
<A ID="pgfId-1120821"></A>
Shut down and uninstall the previous release of MarkLogic Server (if you are upgrading from 4.0, see <A href="procedures.xml#id(49978)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Upgrading from Release 4.0 or 4.1' on page&#160;12</A>, if you are upgrading from 4.0-1 or later, see <A href="procedures.xml#id(53295)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Removing MarkLogic Server' on page&#160;33</A>).</Number1>
<NumberList>
<Number>
<A ID="pgfId-1121081"></A>
Download the MarkLogic Server installation package to your desktop. The latest installation packages are available from the MarkLogic Developer Network (<Hyperlink>
<A href="http://developer.marklogic.com" xml:link="simple" show="replace" actuate="user" CLASS="URL">http://developer.marklogic.com</A></Hyperlink>
).</Number>
<Number>
<A ID="pgfId-1120822"></A>
Double click the <code>
MarkLogic-4.2-1-i686.msi</code>
 icon to start the installer (<code>
MarkLogic-4.2-1-amd64.msi</code>
 for x64 (64-bit AMD Opteron and 64-bit Intel EM64T).</Number>
</NumberList>
<Note>
<A ID="pgfId-1120823"></A>
If you are installing a release other than 4.2-1, double-click on the appropriately named installer icon.</Note>
<NumberList>
<Number>
<A ID="pgfId-1120824"></A>
The Welcome page displays. Click Next.</Number>
<Number>
<A ID="pgfId-1120826"></A>
Select Typical.</Number>
<Number>
<A ID="pgfId-1120827"></A>
Click Install.</Number>
<Number>
<A ID="pgfId-1120828"></A>
Click Finish.</Number>
</NumberList>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120808"></A>
Red Hat Linux (x86 and x64)</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Number1>
<A ID="pgfId-1130201"></A>
Shut down and uninstall the previous release of MarkLogic Server (if you are upgrading from 4.0, see <A href="procedures.xml#id(49978)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Upgrading from Release 4.0 or 4.1' on page&#160;12</A>, if you are upgrading from 4.0-1 or later, see <A href="procedures.xml#id(53295)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Removing MarkLogic Server' on page&#160;33</A>).</Number1>
<NumberList>
<Number>
<A ID="pgfId-1130208"></A>
Download the package to <code>
/tmp</code>
 using your web browser. The latest installation packages are available from the MarkLogic Developer Network (<Hyperlink>
<A href="http://developer.marklogic.com" xml:link="simple" show="replace" actuate="user" CLASS="URL">http://developer.marklogic.com</A></Hyperlink>
).</Number>
</NumberList>
<Note>
<A ID="pgfId-1130209"></A>
If you are using Firefox or another browser that is configured to associate <code>
rpm</code>
 files, the browser will prompt you for the <code>
root</code>
 password (if you are not already running as <code>
root</code>
) and you can follow the prompts to complete the installation. When the installation is complete, you can skip the next step. Otherwise, continue to the next step.</Note>
<NumberList>
<Number>
<A ID="pgfId-1120864"></A>
As the <code>
root</code>
 user, install the package with the following command:</Number>
</NumberList>
<Code>
<A ID="pgfId-1120884"></A>
rpm -i /tmp/MarkLogic-4.2-1.i686.rpm</Code>
<Note>
<A ID="pgfId-1120869"></A>
The package name will end in <code>
amd64.rpm</code>
 for x64 (64-bit AMD Opteron and 64-bit Intel EM64T). If you are installing a release other than 4.2-1, replace the characters 4.2-1 in the line above with the appropriate release number.</Note>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120813"></A>
Sun Solaris (64-bit SPARC and x64)</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Number1>
<A ID="pgfId-1128811"></A>
Shut down and uninstall the previous release of MarkLogic Server (see <A href="procedures.xml#id(53295)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Removing MarkLogic Server' on page&#160;33</A>).</Number1>
<NumberList>
<Number>
<A ID="pgfId-1120895"></A>
Download the package to <code>
/var/spool/pkg</code>
 using your web browser. The latest installation packages are available from the MarkLogic Developer Network (<Hyperlink>
<A href="http://developer.marklogic.com" xml:link="simple" show="replace" actuate="user" CLASS="URL">http://developer.marklogic.com</A></Hyperlink>
).</Number>
<Number>
<A ID="pgfId-1120896"></A>
Unpack the compressed tar file in <code>
/var/spool/pkg</code>
 with the following shell commands:</Number>
</NumberList>
<Code>
<A ID="pgfId-1120900"></A>
% cd /var/spool/pkg
% uncompress MARKlogic-4.2-1-sparc.tar.Z
% tar xf MARKlogic-4.2-1-sparc.tar
% rm MARKlogic-4.2-1-sparc.tar</Code>
<Note>
<A ID="pgfId-1120924"></A>
The package name will end in <code>
amd64.tar.Z</code>
 for x64 (64-bit AMD Opteron and Intel 64-bit EM64T). If you are installing a release other than 4.2-1, replace the characters 4.2-1 in the line above with the appropriate release number. </Note>
<NumberList>
<Number>
<A ID="pgfId-1120916"></A>
As the <code>
root</code>
 user, install the package with the following command:</Number>
</NumberList>
<Code>
<A ID="pgfId-1120914"></A>
# pkgadd MARKlogic</Code>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1134826"></A>
Mac OS X</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Number1>
<A ID="pgfId-1134841"></A>
Download the MarkLogic Server installation package to your desktop. The latest installation packages are available from the MarkLogic Developer Network (<Hyperlink>
<A href="http://developer.marklogic.com" xml:link="simple" show="replace" actuate="user" CLASS="URL">http://developer.marklogic.com</A></Hyperlink>
).</Number1>
<NumberList>
<Number>
<A ID="pgfId-1134868"></A>
Double click the <code>
MarkLogic-4.2-20100913-x86_64.dmg </code>
icon to open the folder that contains the <code>
MarkLogic-4.2-20100913-x86_64.pkg </code>
installer. Double click on the installer to start.</Number>
<Number>
<A ID="pgfId-1134845"></A>
The Welcome page displays. Click Continue.</Number>
<Number>
<A ID="pgfId-1134846"></A>
In the Select a Destination window, select a destination to install MarkLogic Server or Continue to select the default destination.</Number>
<Number>
<A ID="pgfId-1134847"></A>
In the Installation Type window, click Install. An Installation window appears that displays the progress of the installation.</Number>
<Number>
<A ID="pgfId-1134848"></A>
When the installation Summary window appears, click Close.</Number>
<Number>
<A ID="pgfId-1134948"></A>
A MarkLogic control window appears from which you can start/stop MarkLogic Server, open the Admin Interface, and view the Error Log.</Number>
</NumberList>
</CELL>
</ROW>
</TABLE>
<Body>
<A ID="pgfId-1120941"></A>
The following table shows the installation directory and the default data directory for each platform:</Body>
<TableAnchor>
<A ID="pgfId-1120961"></A>
</TableAnchor>
<TABLE>
<ROW>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1120946"></A>
Platform</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1120948"></A>
Installation Directory</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1120965"></A>
Default Data Directory
(for configuration and log files)</CellHeading>
</TH>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120950"></A>
Windows</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120952"></A>
<code>
c:\Program Files\MarkLogic\</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120967"></A>
<code>
c:\Program Files\MarkLogic\Data</code>
</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120954"></A>
Red Hat Linux</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120956"></A>
<code>
/opt/MarkLogic</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120969"></A>
<code>
/var/opt/MarkLogic</code>
</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120958"></A>
Sun Solaris</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120960"></A>
<code>
/opt/MARKlogic</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120971"></A>
<code>
/var/opt/MARKlogic</code>
</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1134808"></A>
Mac OS X</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1134810"></A>
<code>
~/Library/MarkLogic</code>
</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1134812"></A>
<code>
~/Library/Application Support/MarkLogic/Data</code>
</CellBody>
</CELL>
</ROW>
</TABLE>
<Body>
<A ID="pgfId-1120942"></A>
The default forest directory is the same as the default data directory if the optional data directory is not specified during forest creation. On UNIX platforms, if you want MarkLogic Server to use another location for its default data directory, make your data directory (<code>
/var/opt/MarkLogic</code>
 on Linux and <code>
/var/opt/MARKlogic</code>
 on Solaris) a soft link to the alternate location.</Body>
<Heading-2>
<A ID="pgfId-1119243"></A>
<A ID="92457"></A>
Starting MarkLogic Server</Heading-2>
<Body>
<A ID="pgfId-1119244"></A>
MarkLogic Server will automatically start when the computer reboots. To start MarkLogic Server without rebooting, perform the following command for the platform on which you are running:</Body>
<TableAnchor>
<A ID="pgfId-1119671"></A>
</TableAnchor>
<TABLE>
<ROW>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1119654"></A>
Platform</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1119656"></A>
Perform the following:</CellHeading>
</TH>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1119658"></A>
Windows</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Body>
<A ID="pgfId-1119660"></A>
Select Start &gt; Programs &gt; MarkLogic Server &gt; Start MarkLogic Server. </Body>
<Note>
<A ID="pgfId-1130393"></A>
When you start MarkLogic Server from the Start menu, the Windows service configuration for MarkLogic Server is set to start automatically. Also, if you are using Windows Vista, to start the service you must right-click the Start MarkLogic Server link in the Start menu and choose Run as Administrator, then choose to allow the action.</Note>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1119662"></A>
Red Hat Linux</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Body>
<A ID="pgfId-1119664"></A>
As the <code>
root</code>
 user, enter the following command:</Body>
<CodeLeft>
<A ID="pgfId-1119675"></A>
/etc/init.d/MarkLogic start</CodeLeft>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1119667"></A>
Sun Solaris</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Body>
<A ID="pgfId-1119669"></A>
As the <code>
root</code>
 user, enter the following command:</Body>
<CodeLeft>
<A ID="pgfId-1119681"></A>
/etc/init.d/MarkLogic start</CodeLeft>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1134959"></A>
Mac OS X</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Body>
<A ID="pgfId-1134962"></A>
Select System Preferences &gt; MarkLogic to open the MarkLogic control window. Click Start MarkLogic Server.</Body>
</CELL>
</ROW>
</TABLE>
<Body>
<A ID="pgfId-1119250"></A>
This starts all of the App Servers that are configured on your MarkLogic Server. </Body>
<Heading-2>
<A ID="pgfId-1117804"></A>
<A ID="25257"></A>
Entering the License Key and Accepting the License Agreement</Heading-2>
<Body>
<A ID="pgfId-1117808"></A>
If you are upgrading from MarkLogic Server 4.0, 4.1, or an earlier 4.2 release, there is no need to enter a new license key for 4.2; the old key will continue to work in 4.2 for the features for which you are licensed. In that case, you can skip this section. </Body>
<Body>
<A ID="pgfId-1129899"></A>
You must enter a valid license key before you can execute any queries in MarkLogic Server. If you downloaded MarkLogic Server from developer.marklogic.com, you can obtain a license key through the License Key Request screen in the Admin Interface. If you are a MarkLogic customer and obtained the release from support, you can obtain your license key from MarkLogic support.</Body>
<Body>
<A ID="pgfId-1117809"></A>
To enter a license key, perform the following steps:</Body>
<Number1>
<A ID="pgfId-1117810"></A>
If you have not already done so, start MarkLogic Server as described in the previous section.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1117811"></A>
Open the Admin Interface in a browser. For example, if you are running your browser on the computer in which MarkLogic Server is running, open the following URL in a browser: </Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1117813"></A>
<Hyperlink>
<A href="http://localhost:8001/" xml:link="simple" show="replace" actuate="user" CLASS="URL">http://localhost:8001/</A></Hyperlink>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1117818"></A>
The License Key Entry page appears.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1117822"></A>
<IMAGE xml:link="simple" href="images/license_key.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1117823"></A>
If you already have a license key, enter the name of the licensee in the Licensee field and the key in the License Key field. Skip to step <HyperlinkSerif>
<A href="procedures.xml#id(25729)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">12</A> on page 22<HyperlinkSerif>
</HyperlinkSerif>
</HyperlinkSerif>
.</Number>
<Number>
<A ID="pgfId-1117827"></A>
If you have purchased the software but do not have your license key, contact your sales representative or click the Purchased button to send an email.</Number>
<Number>
<A ID="pgfId-1117828"></A>
If you want to obtain a free, restricted-use license key for personal use or evaluation, click the Free button. </Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1117829"></A>
The free license has capacity and usage restrictions; see the license agreement for details.</Body-indent>
<Body-indent>
<A ID="pgfId-1117830"></A>
After clicking the Free button, the License Key Request screen appears.</Body-indent>
<Body-indent>
<A ID="pgfId-1117834"></A>
<IMAGE xml:link="simple" href="images/license_key_request.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1117835"></A>
On the License Key Request form, enter your name in the Licensee field, company name in the Company field, and a valid email address in the Email field. </Number>
</NumberList>
<Note>
<A ID="pgfId-1117836"></A>
The name of the Licensee you enter is associated with the license key that is issued.</Note>
<NumberList>
<Number>
<A ID="pgfId-1127935"></A>
Decide whether you want a Community license or a Trial license. The Community license does not expire, is limited to 10 gigabytes of content (including index space), and is limited to single- or dual-processor machines. The Trial license allows you to have 40 gigabytes of content, but is limited to 30 days. </Number>
<Number>
<A ID="pgfId-1127943"></A>
If you decide on the trial license, fill out the information in the Trial License section.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1127946"></A>
<IMAGE xml:link="simple" href="images/license_key_trial.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1117837"></A>
Click the Select License button for either the Community or Trial license.</Number>
<Number>
<A ID="pgfId-1117838"></A>
The License Key Generation screen appears. Click the OK button.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1117844"></A>
The License Key Entry screen appears with your newly-generated key entered in the License Key field. Make sure the Licensee name matches the one you entered in the License Key Request form.</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1117846"></A>
<A ID="25729"></A>
Click the OK button.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1117847"></A>
If the license key is valid, the server restarts and then the MarkLogic License Agreement screen appears. </Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1117849"></A>
<A ID="76020"></A>
On the MarkLogic License Agreement screen, read all terms and conditions of the MarkLogic License Agreement.</Number>
<Number>
<A ID="pgfId-1117850"></A>
Click Accept to accept the license agreement.</Number>
</NumberList>
<Note>
<A ID="pgfId-1129855"></A>
Accepting this license agreement is optional. However, to begin using MarkLogic Server, you must accept the terms and conditions outlined in the license agreement. If you have executed a written software license with MarkLogic Corporation, the agreement displayed references that written agreement.</Note>
<Heading-2>
<A ID="pgfId-1038037"></A>
<A ID="43943"></A>
Configuring a New Installation</Heading-2>
<Body>
<A ID="pgfId-1038038"></A>
This section only applies if you are installing MarkLogic Server on this host for the first time. It does not apply if you are upgrading from a previous release of MarkLogic Server.</Body>
<Number1>
<A ID="pgfId-1127291"></A>
After you accept the license agreement, wait for the server to restart. </Number1>
<NumberList>
<Number>
<A ID="pgfId-1127307"></A>
MarkLogic Server then needs to self-install the initial databases and applications. The Server Install page appears.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1127292"></A>
<IMAGE xml:link="simple" href="images/server_install.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1127293"></A>
Click OK to continue. </Number>
<Number>
<A ID="pgfId-1038045"></A>
Wait for the server to restart.</Number>
<Number>
<A ID="pgfId-1127520"></A>
If you are using Enterprise Edition (in a single-node or a cluster configuration), skip to <A href="procedures.xml#id(51144)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Enterprise Edition: Configuring the First and Subsequent Hosts' on page&#160;25</A>. </Number>
<Number>
<A ID="pgfId-1117856"></A>
If you are using Standard Edition, the server prompts you to create an admin user. Enter the login name and password for the admin user. </Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1117860"></A>
<IMAGE xml:link="simple" href="images/security_setup.gif" show="embed" actuate="auto"/>
</Body-indent>
<Note>
<A ID="pgfId-1117861"></A>
If you plan on using the digest or digestbasic authentication scheme, decide on the realm you want to use now and enter it in the Realm field. Changing the realm later will invalidate all digest passwords in the security database. For more information on security realms, see <Emphasis>
Understanding and Using Security Guide</Emphasis>
.</Note>
<NumberList>
<Number>
<A ID="pgfId-1117862"></A>
Click OK to continue. This creates an admin user.</Number>
<Number>
<A ID="pgfId-1117863"></A>
The server prompts you for a username and password; enter the admin username and password you just created.</Number>
</NumberList>
<Body>
<A ID="pgfId-1117864"></A>
After logging in with your admin username and password, the browser displays the Admin Interface. MarkLogic Server is now installed. To verify your installation, go to <A href="procedures.xml#id(84772)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Checking for the Correct Software Version' on page&#160;30</A>.</Body>
<Note>
<A ID="pgfId-1134231"></A>
The installation process also creates a second user named <code>
nobody</code>
. The <code>
nobody</code>
 user that the installation process creates is assigned a randomly-generated password and is given no privileges. If you want to add privileges or change the password of the <code>
nobody</code>
 user, use the Admin Interface to modify the user, as described in the <Emphasis>
Administrator's Guide</Emphasis>
.</Note>
<Heading-2>
<A ID="pgfId-1119845"></A>
<A ID="51144"></A>
Enterprise Edition: Configuring the First and Subsequent Hosts</Heading-2>
<Body>
<A ID="pgfId-1119277"></A>
The following configuration procedures are for Enterprise Edition only, and are different depending on if you run MarkLogic Server in a cluster configuration or on a single host. The Enterprise Edition only procedures are as follows:</Body>
<Body-bullet>
<A ID="pgfId-1120137"></A>
<A href="procedures.xml#id(60220)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Enterprise Edition: Configuring a Single Host or the First Host in a Cluster</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1120147"></A>
<A href="procedures.xml#id(98235)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Enterprise Edition: Configuring an Additional Host in a Cluster</Hyperlink>
</A></Body-bullet>
<Body-bullet>
<A ID="pgfId-1120151"></A>
<A href="procedures.xml#id(41344)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Enterprise Edition: Leaving a Cluster and Becoming a Single Host</Hyperlink>
</A></Body-bullet>
<Body>
<A ID="pgfId-1134493"></A>
If you are configuring MarkLogic Server as a standalone host, or if this is the first host in a cluster configuration, follow the installation instructions in Section <A href="procedures.xml#id(60220)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><HyperlinkSerif>
2.7.1</HyperlinkSerif>
</A>. Otherwise, follow the installation instructions in Section <A href="procedures.xml#id(98235)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><HyperlinkSerif>
2.7.2</HyperlinkSerif>
</A>.</Body>
<Body>
<A ID="pgfId-1134509"></A>
If you are upgrading a cluster to a new release, see <A href="../cluster/config_cluster.xml#id(21237)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><Hyperlink>
Upgrading a Cluster to a New Maintenance Release of MarkLogic Server</Hyperlink>
</A> in the <Emphasis>
Scalability, Availability, and Failover Guide</Emphasis>
.</Body>
<Heading-3>
<A ID="pgfId-1134501"></A>
<A ID="60220"></A>
Enterprise Edition: Configuring a Single Host or the First Host in a Cluster</Heading-3>
<Body>
<A ID="pgfId-1119281"></A>
This section only applies to Enterprise Edition installations.</Body>
<Body>
<A ID="pgfId-1119282"></A>
To configure this installation as a single host, or as the first host in a cluster, perform the following steps:</Body>
<Number1>
<A ID="pgfId-1119283"></A>
Install MarkLogic Server, start MarkLogic Server, and enter your license key, as described in <A href="procedures.xml#id(28962)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Installing MarkLogic Server' on page&#160;15</A>, <A href="procedures.xml#id(92457)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Starting MarkLogic Server' on page&#160;18</A>, <A href="procedures.xml#id(25257)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Entering the License Key and Accepting the License Agreement' on page&#160;20</A>.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1127676"></A>
After accepting the license agreement, MarkLogic Server restarts. Then MarkLogic Server needs to self-install the initial databases and applications. The Server Install page appears.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1127680"></A>
<IMAGE xml:link="simple" href="images/server_install.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1127681"></A>
Click OK to continue. </Number>
<Number>
<A ID="pgfId-1127682"></A>
Wait for the server to restart.</Number>
<Number>
<A ID="pgfId-1127622"></A>
After the server restarts, you will be prompted to join a cluster. </Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1119287"></A>
<IMAGE xml:link="simple" href="images/join_cluster.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1119288"></A>
Click Skip.</Number>
<Number>
<A ID="pgfId-1119289"></A>
You will be prompted to create an admin user. Enter the login name and password for the admin user.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1127264"></A>
<IMAGE xml:link="simple" href="images/security_setup.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1119294"></A>
Click OK.</Number>
<Number>
<A ID="pgfId-1119295"></A>
You will be prompted to log in with your admin username and password.</Number>
</NumberList>
<Body>
<A ID="pgfId-1120208"></A>
You will now see the Admin Interface. If you do not need to add any hosts at this time, skip to Section <A href="procedures.xml#id(84772)" xml:link="simple" show="replace" actuate="user" CLASS="XRef"><HyperlinkSerif>
2.8</HyperlinkSerif>
 on page 30</A>.</Body>
<Heading-3>
<A ID="pgfId-1120211"></A>
<A ID="98235"></A>
Enterprise Edition: Configuring an Additional Host in a Cluster</Heading-3>
<Body>
<A ID="pgfId-1120532"></A>
This section only applies to Enterprise Edition installations with two or more hosts.</Body>
<Body>
<A ID="pgfId-1119303"></A>
All hosts in a cluster have to be on the same platform. To configure this installation as an additional host in a cluster of the same platform, perform the following steps:</Body>
<Number1>
<A ID="pgfId-1127651"></A>
On the node you want to add to an existing cluster, install MarkLogic Server, start MarkLogic Server, and enter your license key, as described in <A href="procedures.xml#id(28962)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Installing MarkLogic Server' on page&#160;15</A>, <A href="procedures.xml#id(92457)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Starting MarkLogic Server' on page&#160;18</A>, <A href="procedures.xml#id(25257)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Entering the License Key and Accepting the License Agreement' on page&#160;20</A>.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1127703"></A>
After accepting the license agreement, MarkLogic Server restarts. Then MarkLogic Server needs to self-install the initial databases and applications. The Server Install page appears.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1127707"></A>
<IMAGE xml:link="simple" href="images/server_install.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1127708"></A>
Click OK to continue. </Number>
<Number>
<A ID="pgfId-1127709"></A>
Wait for the server to restart.</Number>
<Number>
<A ID="pgfId-1127643"></A>
After the server restarts, you will be prompted to join a cluster.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1127492"></A>
<IMAGE xml:link="simple" href="images/join_cluster.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1119309"></A>
Enter the DNS name or the IP address of one of the machines in the cluster. For instance, if this is the second host you are installing, you can enter the DNS name of the first host you installed. </Number>
<Number>
<A ID="pgfId-1119311"></A>
Click OK.</Number>
<Number>
<A ID="pgfId-1119312"></A>
You will be prompted for an admin username and password. You can use the admin username and password you created when installing the first host. Click OK.</Number>
<Number>
<A ID="pgfId-1127749"></A>
Select a Group to assign this host. Click OK.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1127750"></A>
<IMAGE xml:link="simple" href="images/join_cluster2.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1127751"></A>
Click OK to confirm that you are joining the cluster.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1127757"></A>
<IMAGE xml:link="simple" href="images/join_cluster3.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1119319"></A>
You have now joined the cluster. </Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1127764"></A>
<IMAGE xml:link="simple" href="images/join_cluster4.gif" show="embed" actuate="auto"/>
</Body-indent>
<NumberList>
<Number>
<A ID="pgfId-1127765"></A>
Click OK to transfer the cluster configuration information.</Number>
</NumberList>
<Body>
<A ID="pgfId-1119320"></A>
You have completed the process to join a cluster and will now see the Admin Interface.</Body>
<Heading-3>
<A ID="pgfId-1119326"></A>
<A ID="41344"></A>
Enterprise Edition: Leaving a Cluster and Becoming a Single Host</Heading-3>
<Body>
<A ID="pgfId-1120557"></A>
This section only applies to Enterprise Edition installations.</Body>
<Body>
<A ID="pgfId-1119327"></A>
If your host is currently in a cluster of multiple hosts, and you would like to leave the cluster and switch to a single host environment, follow the steps in this section. </Body>
<Body>
<A ID="pgfId-1119328"></A>
When you are switching from a clustered environment to a single-host environment, the forest assignments on the host will be dropped. However, forest data will remain on the filesystem and you can add the forest back to the host after changing the configuration. For instructions on adding a forest to a host, see the <Emphasis>
Administrator's Guide</Emphasis>
.</Body>
<Body>
<A ID="pgfId-1127801"></A>
Perform the following steps to leave the cluster to which a host is connected.</Body>
<Number1>
<A ID="pgfId-1119329"></A>
Run the Admin Interface from the host you want to remove from the cluster.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1119330"></A>
Click the Hosts icon in the left menu tree. The Host Summary page appears.</Number>
<Number>
<A ID="pgfId-1127900"></A>
Click the name of the host you want to remove from the cluster, either from the left menu tree or from the Host Summary page. The Host Configuration page appears:</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1127901"></A>
<IMAGE xml:link="simple" href="images/host_leave.gif" show="embed" actuate="auto"/>
</Body-indent>
<Note>
<A ID="pgfId-1127902"></A>
The Leave button only appears if the Admin Interface is running from this host.</Note>
<NumberList>
<Number>
<A ID="pgfId-1119338"></A>
Click the Leave button</Number>
<Number>
<A ID="pgfId-1119339"></A>
Click OK to confirm leaving the cluster.</Number>
<Number>
<A ID="pgfId-1119340"></A>
The host restarts to load the new configuration.</Number>
<Number>
<A ID="pgfId-1119341"></A>
Follow the instructions in sections 'Configuring a Single Host or the First Host in a Cluster' or 'Configuring an Additional Host in a Cluster' as appropriate.</Number>
</NumberList>
<Heading-2>
<A ID="pgfId-1120091"></A>
<A ID="84772"></A>
Checking for the Correct Software Version</Heading-2>
<Body>
<A ID="pgfId-1128044"></A>
After logging in with your admin username and password, the Admin Interface appears. In the left corner of the Admin Interface, the version number and product edition are displayed.</Body>
<Body>
<A ID="pgfId-1129933"></A>
To view more details about the release of MarkLogic Server that is installed and licensed, complete the following steps:</Body>
<Number1>
<A ID="pgfId-1128048"></A>
Click the Hosts icon on the left tree menu.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1120094"></A>
Select the name of the host you just installed, either from the left menu tree or from the Host Summary page. </Number>
<Number>
<A ID="pgfId-1120095"></A>
Click the Status tab. The Host Status page appears.</Number>
<Number>
<A ID="pgfId-1120096"></A>
Check that &lt;version&gt; is correct.</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1120100"></A>
<IMAGE xml:link="simple" href="images/host_status.gif" show="embed" actuate="auto"/>
</Body-indent>
<Body>
<A ID="pgfId-1120101"></A>
To begin using MarkLogic Server, see the following document:</Body>
<Body-bullet>
<A ID="pgfId-1120105"></A>
<Emphasis>
Getting Started With MarkLogic Server</Emphasis>
</Body-bullet>
<Body>
<A ID="pgfId-1120106"></A>
Otherwise, you are finished with the Admin Interface for now. You have successfully installed MarkLogic Server on your system.</Body>
<Heading-2>
<A ID="pgfId-1119343"></A>
<A ID="32108"></A>
Configuring MarkLogic Server on UNIX Systems to Run as a Non-daemon User</Heading-2>
<Body>
<A ID="pgfId-1133838"></A>
On UNIX-based systems (Linux and Solaris), MarkLogic Server runs as the UNIX user named <code>
daemon</code>
. This section describes how to change a configuration to run as a different named UNIX user. This procedure must be run by the <code>
root</code>
 user. Additionally, the root user is still required for installing and uninstalling MarkLogic Server and for starting and stopping MarkLogic Server from the startup scripts.</Body>
<Body>
<A ID="pgfId-1133862"></A>
To modify an installation to run as a user other than <code>
daemon</code>
, perform the following steps:</Body>
<Number1>
<A ID="pgfId-1133972"></A>
In a command window on the machine in which you installed MarkLogic Server, log in as the <code>
root</code>
 user.</Number1>
<NumberList>
<Number>
<A ID="pgfId-1133882"></A>
Make sure MarkLogic Server is stopped. If it is still running, stop it as follows:</Number>
</NumberList>
<TableAnchor>
<A ID="pgfId-1133960"></A>
</TableAnchor>
<TABLE>
<ROW>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1133933"></A>
Platform</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1133935"></A>
Perform the following to stop MarkLogic Server:</CellHeading>
</TH>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1133951"></A>
Red Hat Linux</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Body>
<A ID="pgfId-1133953"></A>
As the <code>
root</code>
 user, enter the following command:</Body>
<Code>
<A ID="pgfId-1133954"></A>
/etc/init.d/MarkLogic stop</Code>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1133956"></A>
Sun Solaris</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Body>
<A ID="pgfId-1133958"></A>
As the <code>
root</code>
 user, enter the following command:</Body>
<Code>
<A ID="pgfId-1133959"></A>
/etc/init.d/MarkLogic stop</Code>
</CELL>
</ROW>
</TABLE>
<NumberList>
<Number>
<A ID="pgfId-1133883"></A>
Edit the configuration file for your platform using a text editor such as <code>
vi</code>
.</Number>
</NumberList>
<TableAnchor>
<A ID="pgfId-1134151"></A>
</TableAnchor>
<TABLE>
<ROW>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1134135"></A>
Platform</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1134140"></A>
Configuration File to Edit</CellHeading>
</TH>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1134142"></A>
Red Hat Linux</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Code>
<A ID="pgfId-1134145"></A>
/etc/sysconfig/MarkLogic</Code>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1134147"></A>
Sun Solaris</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Code>
<A ID="pgfId-1134150"></A>
/etc/MarkLogic.conf</Code>
</CELL>
</ROW>
</TABLE>
<NumberList>
<Number>
<A ID="pgfId-1133897"></A>
In the file, edit the <code>
MARKLOGIC_USER</code>
 environment variable to point to the user in which you want MarkLogic Server to run. For example, if you want it to run as a user named <code>
raymond</code>
, change the following line:</Number>
</NumberList>
<Code>
<A ID="pgfId-1133904"></A>
MARKLOGIC_USER=daemon</Code>
<Body-indent>
<A ID="pgfId-1133914"></A>
to the following:</Body-indent>
<Code>
<A ID="pgfId-1134213"></A>
MARKLOGIC_USER=raymond</Code>
<NumberList>
<Number>
<A ID="pgfId-1134214"></A>
Save the changes to the <code>
/etc/sysconfig/MarkLogic</code>
 or <code>
/etc/MarkLogic.conf</code>
 file.</Number>
<Number>
<A ID="pgfId-1134218"></A>
If you have not yet started MarkLogic Server after performing a clean installation (that is, after installing into a directory where MarkLogic Server has never been installed), then you are done and you can skip the rest of the steps in this procedure. If have an existing installation (for example, if you are upgrading to a maintenance release), then continue with the following steps.</Number>
<Number>
<A ID="pgfId-1133998"></A>
For all of the MarkLogic Server files owned by <code>
daemon</code>
, you need to change the owner to the new user. This includes all forest data and all of the configuration files. By default, the forest data is in the following directories:</Number>
</NumberList>
<Body-indent>
<A ID="pgfId-1134043"></A>
</Body-indent>
<TABLE>
<ROW>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1134066"></A>
Platform</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1134097"></A>
Default Data Directory
(for configuration and log files, and default forest directory)</CellHeading>
</TH>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1134084"></A>
Red Hat Linux</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1134099"></A>
<code>
/var/opt/MarkLogic</code>
</CellBody>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1134089"></A>
Sun Solaris</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1134101"></A>
<code>
/var/opt/MARKlogic</code>
</CellBody>
</CELL>
</ROW>
</TABLE>
<Body-indent>
<A ID="pgfId-1134006"></A>
For example, on a Linux system, perform a command similar to the following, which changes the owner to the user specified earlier in the <code>
/etc/sysconfig/MarkLogic</code>
 file:</Body-indent>
<Code>
<A ID="pgfId-1134109"></A>
chown -R raymond <code>
/var/opt/MarkLogic</code>
</Code>
<NumberList>
<Number>
<A ID="pgfId-1134115"></A>
Make sure to change the owner for all forests in the system, otherwise forests will fail to mount upon startup. Note that the above command only changes the owner for forests installed in the default directory. You need to run a similar command on the data directory for each forest in which a data directory is specified.</Number>
<Number>
<A ID="pgfId-1134119"></A>
When you have completed all the file and directory ownership changes, start MarkLogic Server as described in <A href="procedures.xml#id(92457)" xml:link="simple" show="replace" actuate="user" CLASS="XRef">'Starting MarkLogic Server' on page&#160;18</A>.</Number>
</NumberList>
<Body>
<A ID="pgfId-1134174"></A>
Once you have performed this procedure, all new files created by MarkLogic Server are created with the new user ownership; there will be no need to change any ownership again. Also, the configuration changes you made in this procedure will not be changed during an upgrade of MarkLogic Server. If you perform a clean installation (not an upgrade installation), however, you will need to run this procedure again.</Body>
<Heading-2>
<A ID="pgfId-1133888"></A>
<A ID="53295"></A>
Removing MarkLogic Server</Heading-2>
<Body>
<A ID="pgfId-1125996"></A>
To remove MarkLogic Server from your system, complete the following steps:</Body>
<Number1>
<A ID="pgfId-1126000"></A>
Stop MarkLogic Server by performing the following action based on the platform in which you are running:</Number1>
<TableAnchor>
<A ID="pgfId-1120307"></A>
</TableAnchor>
<TABLE>
<ROW>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1120290"></A>
Platform</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1120292"></A>
Perform the following:</CellHeading>
</TH>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120294"></A>
Windows</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Body>
<A ID="pgfId-1120296"></A>
Select Start &gt; Programs &gt; MarkLogic Server &gt; Stop MarkLogic Server.</Body>
<Note>
<A ID="pgfId-1130414"></A>
If you are using Windows Vista, to stop the service you must right-click the Stop MarkLogic Server link in the Start menu and choose Run as Administrator, then choose to allow the action.</Note>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120298"></A>
Red Hat Linux</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Body>
<A ID="pgfId-1120300"></A>
As the <code>
root</code>
 user, enter the following command:</Body>
<Code>
<A ID="pgfId-1120301"></A>
/etc/init.d/MarkLogic stop</Code>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120303"></A>
Sun Solaris</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Body>
<A ID="pgfId-1120305"></A>
As the <code>
root</code>
 user, enter the following command:</Body>
<Code>
<A ID="pgfId-1120306"></A>
/etc/init.d/MarkLogic stop</Code>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1135035"></A>
Mac OS X</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Body>
<A ID="pgfId-1135037"></A>
Select System Preferences &gt; MarkLogic to open the MarkLogic control window. Click Stop MarkLogic Server.</Body>
</CELL>
</ROW>
</TABLE>
<NumberList>
<Number>
<A ID="pgfId-1119350"></A>
Once the server is stopped, you can uninstall MarkLogic Server package by performing the following action based on the platform in which you are running:</Number>
</NumberList>
<TableAnchor>
<A ID="pgfId-1120344"></A>
</TableAnchor>
<TABLE>
<ROW>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1120327"></A>
Platform</CellHeading>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<CellHeading>
<A ID="pgfId-1120329"></A>
Perform the following:</CellHeading>
</TH>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120331"></A>
Windows</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Body>
<A ID="pgfId-1120333"></A>
Use the Add/Remove Programs Control Panel to uninstall MarkLogic Server.</Body>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120335"></A>
Red Hat Linux</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Body>
<A ID="pgfId-1120337"></A>
As the <code>
root</code>
 user, enter the following command:</Body>
<Code>
<A ID="pgfId-1120338"></A>
rpm -e MarkLogic</Code>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1120340"></A>
Sun Solaris</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Body>
<A ID="pgfId-1120342"></A>
As the <code>
root</code>
 user, enter the following command:</Body>
<Code>
<A ID="pgfId-1120343"></A>
pkgrm MARKlogic</Code>
</CELL>
</ROW>
<ROW>
<CELL ROWSPAN="1" COLSPAN="1">
<CellBody>
<A ID="pgfId-1135048"></A>
Mac OS X</CellBody>
</CELL>
<CELL ROWSPAN="1" COLSPAN="1">
<Body>
<A ID="pgfId-1135059"></A>
No action is necessary when upgrading. </Body>
<Body>
<A ID="pgfId-1135080"></A>
If you want to remove the user data and do a fresh install, then remove the following directory:</Body>
<CodeLeft>
<A ID="pgfId-1135193"></A>
<code>
~/Library/Application Support/MarkLogic/Data</code>
</CodeLeft>
<Body>
<A ID="pgfId-1135202"></A>
To entirely remove MarkLogic Server, remove the following directories:</Body>
<CodeLeft>
<A ID="pgfId-1135107"></A>
<code>
~/Library/MarkLogic
~/Library/Application Support/MarkLogic
~/Library/StartupItems/MarkLogic
~/Library/PreferencePanes/MarkLogic.prefPane</code>
</CodeLeft>
</CELL>
</ROW>
</TABLE>
<Note>
<A ID="pgfId-1126039"></A>
Using this procedure to remove MarkLogic Server from your system will not remove user data (configuration information, XQuery files used by HTTP or XDBC servers, or forest content). This data is left in place to simplify the software upgrade process. If you wish to remove the user data, you must do so manually using standard operating system commands.</Note>
</XML>
